webpackJsonp([43],{fmjx:function(t,a,e){"use strict";Object.defineProperty(a,"__esModule",{value:!0});var s=e("mvHQ"),o=e.n(s),i=e("UeMV"),n=(e("95YI"),e("Au9i")),c=e("lbHh"),r=e.n(c),p=e("TVG1"),l=(e("mtWM"),{name:"package",data:function(){return{items:[],num1:null}},props:{},created:function(){document.body.scrollTop=document.documentElement.scrollTop=0;var t=window.sessionStorage.getItem("good_package").split("&&");for(var a in t){var e=JSON.parse(t[a]);this.items.push(e)}window.sessionStorage.removeItem("cardStr"),"other"==p.a.webview()?this.$store.commit("titleShowFunc",!0):this.$store.commit("titleShowFunc",!1)},mounted:function(){},components:{navigation:i.a},methods:{buy:function(t,a){if(0!=t.stock){var e="",s=[],i={};for(var n in(i=t).TotalCommodity=t.price*a,i.type=2,i.id=t.packageId,s.push(i),s)n==s.length-1?e+=o()(s[n]):e+=o()(s[n])+"&&";window.sessionStorage.setItem("orderGoods",e),r.a.get("VUE2SESSID")?this.$router.push({name:"confirmationOrder",query:{source:"package",canChoice:i.opModel}}):this.$router.push({name:"signInPage"})}},addShop:function(t,a){var e=[];if(localStorage.getItem("shoppingCard"))if(e=localStorage.getItem("shoppingCard").split(","),localStorage.getItem("shoppingCard").indexOf(t.packageId)>=0){for(var s in e)if(e[s].indexOf(t.packageId)>=0){var o=Number(e[s].split("&")[1].split(":")[1])+a;e[s]="id:"+e[s].split("&")[0].split(":")[1]+"&num:"+o+"&type:"+e[s].split("&")[2].split(":")[1]}}else e.push("id:"+t.packageId+"&num:"+a+"&type:2");else e.push("id:"+t.packageId+"&num:"+a+"&type:2");for(var i in localStorage.setItem("shoppingCard",e),this.$store.commit("changeTanchaungType",5),e)e[i].indexOf(this.$store.state.goodId)>=0&&this.$store.commit("addShpCardNum",e[i].split("&")[1].split(":")[1]);Object(n.Toast)("成功加入购物车")},handleChange:function(t){},switchShow:function(t,a){t.srcElement.className.indexOf("packageName")>=0&&(t.srcElement.className.indexOf("onclick")>=0?(t.currentTarget.className="packageName",this.$refs.package[a].className="package"):(t.currentTarget.className="packageName onclick",this.$refs.package[a].className="package packageshow"))},jumpShop:function(){window.sessionStorage.setItem("tabbar","shoppingCart"),this.$router.push({path:"/shoppingCart"})}}}),d={render:function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"package"},[e("header",{staticClass:"header"},[e("span",[t.$store.state.titleShow?e("i",{staticClass:"goback",on:{click:function(a){a.stopPropagation(),t.$router.go(-1)}}}):t._e()]),t._v(" "),e("span",{staticClass:"titleName"},[t.$store.state.titleShow?e("b",[t._v("优惠套餐")]):t._e()]),t._v(" "),e("em",{on:{click:function(a){a.stopPropagation(),t.jumpShop(a)}}})]),t._v(" "),e("div",{staticClass:"packages"},t._l(t.items,function(a,s){return e("div",{ref:"package",refInFor:!0,staticClass:"package"},[e("p",{staticClass:"packageName",on:{click:function(a){a.stopPropagation(),t.switchShow(a,s)}}},[e("em",[t._v("优惠套餐")]),e("i",[t._v(t._s(a.packageName))]),e("span",[t._v("¥"+t._s((a.price/100).toFixed(2)))])]),t._v(" "),e("div",{staticClass:"packageImg"},t._l(a.goodsList,function(s,o){return e("p",{staticClass:"packageImg_p",on:{click:function(a){a.stopPropagation(),t.$router.push({name:"goodsDevele",params:{onlineId:s.onlineId}})}}},[e("img",{attrs:{src:s.imgUrl},on:{click:function(t){t.stopPropagation()}}}),t._v(" "),o!=a.goodsList.length-1?e("em",[t._v("+")]):t._e()])})),t._v(" "),e("div",{staticClass:"packageGoods"},[t._l(a.goodsList,function(s,o){return e("div",{staticClass:"packageGood",on:{click:function(a){a.stopPropagation(),t.$router.push({name:"goodsDevele",params:{onlineId:s.onlineId}})}}},[e("div",{staticClass:"packageGood_img"},[e("img",{attrs:{src:s.imgUrl}}),t._v(" "),0==a.stock?e("p",{staticClass:"mask"},[t._v("无货")]):t._e()]),t._v(" "),e("div",{staticClass:"packageGood_data"},[e("p",[t._v(t._s(s.goodsName))]),t._v(" "),e("p",[t._v("已选："+t._s(s.specs))]),t._v(" "),e("p",[t._v("原价：¥"+t._s((s.salePrice/100).toFixed(2)))])])])}),t._v(" "),e("p",{staticClass:"packageGoods_button"},[e("el-input-number",{attrs:{min:1,size:"mini",label:"描述文字"},on:{change:t.handleChange},model:{value:t.num1,callback:function(a){t.num1=a},expression:"num1"}}),t._v(" "),e("button",{on:{click:function(e){e.stopPropagation(),t.addShop(a,t.num1)}}},[t._v("加入购物车")]),t._v(" "),e("button",{class:0==a.stock?"disabled":"",on:{click:function(e){e.stopPropagation(),t.buy(a,t.num1)}}},[t._v("立即购买")])],1)],2)])})),t._v(" "),e("navigation")],1)},staticRenderFns:[]};var g=e("VU/8")(l,d,!1,function(t){e("xsRE")},"data-v-10dd1ab0",null);a.default=g.exports},xsRE:function(t,a){}});
//# sourceMappingURL=43.e241c17f47d5de23ce85.js.map