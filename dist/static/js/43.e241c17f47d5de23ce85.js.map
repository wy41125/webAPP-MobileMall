{"version":3,"sources":["webpack:///src/components/goods/package.vue","webpack:///./src/components/goods/package.vue?89da","webpack:///./src/components/goods/package.vue"],"names":["i","obj","webview","navigation","num","packageId","Obj","str","opModel","shopArr","this","components_goods_package","render","_vm","_h","$createElement","_c","_self","staticClass","$store","state","on","click","$event","stopPropagation","$router","go","_e","_v","jumpShop","_l","item","index","ref","refInFor","switchShow","_s","packageName","price","toFixed","good","push","name","params","onlineId","attrs","src","imgUrl","goodsList","length","stock","goodsName","specs","salePrice","min","size","label","change","handleChange","model","value","callback","$$v","num1","expression","addShop","class","buy","staticRenderFns","Component","__webpack_require__","normalizeComponent","goods_package","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/43.e241c17f47d5de23ce85.js","sourcesContent":["<template>  \n  <div class=\"package\">  \n    <!-- 顶部购物车跳转 -->\n    <header class=\"header\">\n      <span><i class=\"goback\" v-if=\"$store.state.titleShow\" @click.stop=\"$router.go(-1)\"></i></span>\n      <span class=\"titleName\"><b v-if=\"$store.state.titleShow\">优惠套餐</b></span>\n      <em @click.stop=\"jumpShop\"></em>\n    </header>\n    <!-- 数据 -->\n    <div class=\"packages\">\n      <div ref=\"package\" class=\"package\" v-for=\"(item,index) in items\">\n        <p class=\"packageName\" @click.stop=\"switchShow($event,index)\"><em>优惠套餐</em><i>{{item.packageName}}</i><span>¥{{(item.price/100).toFixed(2)}}</span></p>\n        <div class=\"packageImg\" >\n          <p class=\"packageImg_p\" v-for=\"(good,index) in item.goodsList\" @click.stop=\"$router.push({name:'goodsDevele',params:{onlineId:good.onlineId}})\">\n            <img :src=\"good.imgUrl\" @click.stop=\"\">  \n            <em v-if=\"index != item.goodsList.length-1\">+</em>\n          </p>\n        </div> \n        <div class=\"packageGoods\">\n          <div class=\"packageGood\" v-for=\"(good,index) in item.goodsList\" @click.stop=\"$router.push({name:'goodsDevele',params:{onlineId:good.onlineId}})\">\n            <div class=\"packageGood_img\"> \n              <img :src=\"good.imgUrl\">\n              <p class=\"mask\" v-if=\"item.stock ==0\">无货</p>\n            </div>\n            <div class=\"packageGood_data\">\n              <p>{{good.goodsName}}</p>\n              <p>已选：{{good.specs}}</p>\n              <p>原价：¥{{(good.salePrice/100).toFixed(2)}}</p>\n            </div>\n          </div>\n          <p class=\"packageGoods_button\">\n            <el-input-number v-model=\"num1\" @change=\"handleChange\" :min=\"1\" size=\"mini\" label=\"描述文字\"></el-input-number>\n            <button @click.stop=\"addShop(item,num1)\">加入购物车</button>\n            <button :class=\"item.stock==0?'disabled':''\" @click.stop=\"buy(item,num1)\">立即购买</button>\n          </p>\n        </div>\n      </div>\n    </div>\n\n    <navigation></navigation>\n  </div>   \n</template>  \n  \n<script> \nimport navigation from './navigation.vue'  \nimport VDistpicker from 'v-distpicker'\nimport {Toast,MessageBox} from 'mint-ui'\nimport Cookies from 'js-cookie';\nimport util from '@/libs/util' \nimport axios from 'axios'\nexport default {  \n  name: 'package',  \n  data() {  \n    return {  \n      items:[],\n      num1:null,\n    };  \n  },\n  props:{\n    \n  },\n  created(){\n    document.body.scrollTop = document.documentElement.scrollTop = 0;\n    let str = window.sessionStorage.getItem('good_package');\n    let arr = str.split('&&');\n    for(let i in arr){\n      let obj = JSON.parse(arr[i]);\n      this.items.push(obj);\n    }\n    window.sessionStorage.removeItem('cardStr');\n    let viewStr = util.webview();\n    if(viewStr == 'other'){\n      this.$store.commit('titleShowFunc',true);\n    }else{\n      this.$store.commit('titleShowFunc',false);\n    }\n  },\n  mounted(){\n    \n  },\n  components:{\n    navigation:navigation,\n  },\n  methods:{\n    buy(obj,num){//立即购买\n      if(obj.stock == 0){\n        return;\n      }\n      let str = '',that =this,arr=[],Obj={};\n      Obj = obj;\n      Obj.TotalCommodity = obj.price*num;\n      Obj.type=2;\n      Obj.id=obj.packageId;\n      arr.push(Obj);\n      for(let i in arr){\n        if(i == arr.length-1){\n          str+=JSON.stringify(arr[i]);\n        }else{\n          str+=JSON.stringify(arr[i])+'&&';\n        }\n      }\n\n      window.sessionStorage.setItem('orderGoods',str);\n      if(Cookies.get('VUE2SESSID')){\n        this.$router.push({name:'confirmationOrder',query:{source:'package',canChoice:Obj.opModel}});\n      }else{\n        this.$router.push({name:'signInPage'});\n      }\n    },\n    addShop(obj,num){//加入购物车\n      let shopArr =[];\n      //购物车商品数据\n      if(localStorage.getItem(\"shoppingCard\")){\n        shopArr = localStorage.getItem(\"shoppingCard\").split(',');//shopArr=['id:12222&num:12','id:12222&num:12'];\n        if(localStorage.getItem(\"shoppingCard\").indexOf(obj.packageId) >= 0){\n          for(let i in shopArr){//该元素在tmp内部不存在才允许追加\n            if(shopArr[i].indexOf(obj.packageId)>=0){\n              let Num = Number(shopArr[i].split('&')[1].split(':')[1])+num;\n              shopArr[i]='id:'+shopArr[i].split('&')[0].split(':')[1]+'&num:'+Num+'&type:'+shopArr[i].split('&')[2].split(':')[1];\n            }\n          }\n        }else{\n          shopArr.push('id:'+obj.packageId+'&num:'+num+'&type:'+2);\n        }\n      }else{\n        shopArr.push('id:'+obj.packageId+'&num:'+num+'&type:'+2);\n      }\n      localStorage.setItem(\"shoppingCard\",shopArr);\n      this.$store.commit('changeTanchaungType',5);//购物车弹窗开关控制\n      for(let i in shopArr){\n        if(shopArr[i].indexOf(this.$store.state.goodId)>=0){\n          this.$store.commit('addShpCardNum',shopArr[i].split('&')[1].split(':')[1]);\n        }\n      }\n      Toast('成功加入购物车');\n    },\n    handleChange(value){\n      \n    },\n    switchShow(e,i){//套餐显示控制\n      let that =this;\n      if(e.srcElement.className.indexOf('packageName')>=0){\n        if(e.srcElement.className.indexOf('onclick')>=0){\n          e.currentTarget.className = 'packageName';\n          that.$refs.package[i].className='package';\n        }else{\n          e.currentTarget.className = 'packageName onclick';\n          that.$refs.package[i].className = 'package packageshow';\n          // e.path[1].className='package packageshow';\n        }\n      }\n    },\n    jumpShop(){//跳转购物车\n      window.sessionStorage.setItem('tabbar','shoppingCart');\n      this.$router.push({path:'/shoppingCart'});\n    }\n  }, \n};  \n</script>  \n  \n<style lang=\"less\" scoped>   \n  @import '../../assets/less/package.less';\n  // .transfrom{\n  //     width: 200px;\n  //     height: 200px;\n  //     background: yellow;\n  //     animation: rotatefresh 1s;\n  //     // transform-origin: 100% 50%;\n  //     // -webkit-transform-origin: 100% 50%;\n  //     // animation:3s linear 0s myrotate;\n  //     // -webkit-animation:3s linear 0s myrotate;/* Safari and Chrome */\n  //     // animation-fill-mode:forwards;/*动画播放完毕时停止，不回到初始状态*/\n  //     // -webkit-animation-fill-mode:forwards;\n  // }\n  // @keyframes rotatefresh {\n  //           from { transform: rotate(0deg) }\n  //           to {\n  //               transform: rotate(90deg);\n  //               transition: all 0.6s;\n  //           }\n  //       }\n  // @keyframes myrotate{\n  //     form {transform:rotateX(0deg);}    \n  //     to    {transform:rotateX(90deg);}\n  // }\n  // @-webkit-keyframes myrotate{/* Safari and Chrome */\n  //     form {transform:rotateX(0deg);}    \n  //     to    {transform:rotateX(180deg);}\n  // }\n</style> \n\n\n// WEBPACK FOOTER //\n// src/components/goods/package.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"package\"},[_c('header',{staticClass:\"header\"},[_c('span',[(_vm.$store.state.titleShow)?_c('i',{staticClass:\"goback\",on:{\"click\":function($event){$event.stopPropagation();_vm.$router.go(-1)}}}):_vm._e()]),_vm._v(\" \"),_c('span',{staticClass:\"titleName\"},[(_vm.$store.state.titleShow)?_c('b',[_vm._v(\"优惠套餐\")]):_vm._e()]),_vm._v(\" \"),_c('em',{on:{\"click\":function($event){$event.stopPropagation();_vm.jumpShop($event)}}})]),_vm._v(\" \"),_c('div',{staticClass:\"packages\"},_vm._l((_vm.items),function(item,index){return _c('div',{ref:\"package\",refInFor:true,staticClass:\"package\"},[_c('p',{staticClass:\"packageName\",on:{\"click\":function($event){$event.stopPropagation();_vm.switchShow($event,index)}}},[_c('em',[_vm._v(\"优惠套餐\")]),_c('i',[_vm._v(_vm._s(item.packageName))]),_c('span',[_vm._v(\"¥\"+_vm._s((item.price/100).toFixed(2)))])]),_vm._v(\" \"),_c('div',{staticClass:\"packageImg\"},_vm._l((item.goodsList),function(good,index){return _c('p',{staticClass:\"packageImg_p\",on:{\"click\":function($event){$event.stopPropagation();_vm.$router.push({name:'goodsDevele',params:{onlineId:good.onlineId}})}}},[_c('img',{attrs:{\"src\":good.imgUrl},on:{\"click\":function($event){$event.stopPropagation();}}}),_vm._v(\" \"),(index != item.goodsList.length-1)?_c('em',[_vm._v(\"+\")]):_vm._e()])})),_vm._v(\" \"),_c('div',{staticClass:\"packageGoods\"},[_vm._l((item.goodsList),function(good,index){return _c('div',{staticClass:\"packageGood\",on:{\"click\":function($event){$event.stopPropagation();_vm.$router.push({name:'goodsDevele',params:{onlineId:good.onlineId}})}}},[_c('div',{staticClass:\"packageGood_img\"},[_c('img',{attrs:{\"src\":good.imgUrl}}),_vm._v(\" \"),(item.stock ==0)?_c('p',{staticClass:\"mask\"},[_vm._v(\"无货\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"packageGood_data\"},[_c('p',[_vm._v(_vm._s(good.goodsName))]),_vm._v(\" \"),_c('p',[_vm._v(\"已选：\"+_vm._s(good.specs))]),_vm._v(\" \"),_c('p',[_vm._v(\"原价：¥\"+_vm._s((good.salePrice/100).toFixed(2)))])])])}),_vm._v(\" \"),_c('p',{staticClass:\"packageGoods_button\"},[_c('el-input-number',{attrs:{\"min\":1,\"size\":\"mini\",\"label\":\"描述文字\"},on:{\"change\":_vm.handleChange},model:{value:(_vm.num1),callback:function ($$v) {_vm.num1=$$v},expression:\"num1\"}}),_vm._v(\" \"),_c('button',{on:{\"click\":function($event){$event.stopPropagation();_vm.addShop(item,_vm.num1)}}},[_vm._v(\"加入购物车\")]),_vm._v(\" \"),_c('button',{class:item.stock==0?'disabled':'',on:{\"click\":function($event){$event.stopPropagation();_vm.buy(item,_vm.num1)}}},[_vm._v(\"立即购买\")])],1)],2)])})),_vm._v(\" \"),_c('navigation')],1)}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-10dd1ab0\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/goods/package.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-10dd1ab0\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./package.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./package.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./package.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-10dd1ab0\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./package.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-10dd1ab0\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/goods/package.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}