{"version":3,"sources":["webpack:///src/components/land/signIn_page.vue","webpack:///./src/components/land/signIn_page.vue?dbf8","webpack:///./src/components/land/signIn_page.vue"],"names":["signIn_page","value","this","TIME_COUNT","count","timer","_this","PhoneNum","data","urlStr","then","response","verificationCode","message","className","Password","getTime","expiresTime","webview","land_signIn_page","render","_vm","_h","$createElement","_c","_self","staticClass","style","on","click","$event","stopPropagation","guanbiFunc","_v","$store","state","staticStyle","display","line-height","font-size","_e","margin-right","toRegister","directives","name","rawName","val","expression","attrs","type","oninput","placeholder","domProps","input","target","composing","$set","watchPhone","float","text-align","ajaxVerificationCode","_s","timeStr","show","class","phoneLogin","switchUserLogin","staticRenderFns","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__"],"mappings":"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","file":"static/js/45.38d393cc6067e20b9a64.js","sourcesContent":["<template>  \n  <div class=\"signin\" :style=\"heightStr\">\n    <header class=\"mint-header is-fixed\">\n      <div class=\"mint-header-button is-left\">\n        <i @click.stop=\"guanbiFunc\"></i> \n      </div>\n      <h1 class=\"mint-header-title\"> \n        <em v-if=\"$store.state.titleShow\" style='display: inline-block;line-height:.44rem;font-size:.17rem;'>手机快捷登录</em>\n      </h1>\n      <div class=\"mint-header-button is-right\">\n        <button class=\"mint-button mint-button--default mint-button--normal\" style=\"margin-right:.05rem;\">\n          <label class=\"mint-button-text\" style=\"font-size:.14rem;\" @click.stop=\"toRegister\">注册</label>\n        </button>\n      </div> \n    </header>\n    <div class=\"inputDiv\">\n      <div class=\"tongyiDiv\">\n        <p class=\"PhoneNum\">\n          <input type=\"number\" oninput=\"if(value.length>11)value=value.slice(0,11)\" placeholder=\"手机号码\" v-model=\"val.PhoneNum\" @input=\"watchPhone($event)\">\n          <i v-if=\"val.PhoneNum\" @click=\"val.PhoneNum = '';\"></i>\n        </p>\n        <p class=\"Password\"> \n          <input type=\"number\" oninput=\"if(value.length>6)value=value.slice(0,6)\" placeholder=\"动态密码\" v-model=\"val.Password\">\n          <i v-if=\"val.Password\" @click=\"val.Password = '';\"></i>\n          <span class=\"canClick\" @click=\"ajaxVerificationCode\" style=\"font-size:.13rem;float: right;text-align: right;\">\n            <b v-if=\"show\">{{timeStr}}</b>\n            <b v-if=\"!show\">{{count}}s</b>\n          </span>\n        </p>\n        <p class=\"buttonLogin noBorder\"><span :class=\"val.PhoneNum != ''?'canNext':''\" @click.stop=\"phoneLogin($event)\">登录</span></p>\n        <p class=\"buttonChange noBorder\"><span @click.stop=\"switchUserLogin\">账号登录</span></p>\n      </div>\n    </div>\n    <div class=\"thirdParty\">\n      <!-- <span class=\"zhifupay\"></span> -->\n      <!-- <span class=\"qq\"></span> -->\n      <!-- <span class=\"weixin\"></span> -->\n    </div>\n  </div>  \n</template>  \n  \n<script> \nimport {Toast,MessageBox} from 'mint-ui' \nimport util from '@/libs/util' \nimport axios from 'axios'\nimport Cookies from 'js-cookie';\nexport default {  \n  name: 'signin',  \n  data() {  \n    return { \n      val:{\n        PhoneNum:'',//手机号\n        Password:'',//动态验证码\n      },\n      show:true,//文字、计时显示控制\n      timeStr:'获取动态密码',\n      count: '',//计时数字\n      timer: null,//计时器\n      phonetrue:false,//控制手机号是否正确\n      heightStr:null,\n    };  \n  },\n  methods:{\n    guanbiFunc(){//关闭登录页面\n      if(this.$route.query.outLogin){\n        this.$router.push({path:'/'});\n      }else{\n        this.$router.go(-1)\n      }\n    },\n    switchUserLogin(){//账户登录跳转\n      if(this.$route.query.outLogin){\n        this.$router.replace({name:'userLogin',query:{'outLogin':'/'}});\n      }else{\n        this.$router.replace({name:'userLogin'});\n      }\n    },\n    toRegister(){//注册跳转\n      if(this.$route.query.outLogin){\n        this.$router.replace({name:'register1',query:{'name':this.$route.query.name,'nameTow':'signInPage','outLogin':'/'}});\n      }else{\n        this.$router.replace({name:'register1',query:{'name':this.$route.query.name,'nameTow':'signInPage'}});\n      }\n    },\n    watchPhone(e){\n      let that = this;\n      let phoneNum = e.currentTarget.value;\n      //手机号码验证\n      if(phoneNum.length ==11 && phoneNum[0] == '1'){\n        that.phonetrue = true;\n      }else{\n        that.phonetrue = false;\n      }\n      // if(phoneNum.length ==11){that.phonetrue = false;}else if(!util.PHONE_REG.test(phoneNum)){that.phonetrue = false;}else{\n      //   that.phonetrue = true;\n      // }\n    },\n    verificationCode(){//运行计时器，60倒计时\n      let that = this;\n      that.count = util.TIME_COUNT;\n      that.show = false;\n      that.timer = setInterval(() => {\n        if (that.count > 0 && that.count <= util.TIME_COUNT) {\n          that.count--;\n        } else {\n          that.show = true;\n          clearInterval(that.timer);\n          that.timeStr = '再次发送';\n          that.timer = null;\n        }\n      }, 1000)\n    },\n    ajaxVerificationCode(){//请求验证码\n      let that =this;\n      if (!that.timer) {\n        if(!that.phonetrue){\n          util.viewPopup('请输入正确的手机号！');\n          return;\n        }\n        let data = {};\n        data.phoneNo = that.val.PhoneNum;\n        data.type = '2';//快捷登录动态密码\n        let urlStr = util.getpost(data);\n        axios({\n          method:\"post\",\n          url:\"/customer/open/getSmscode\"+urlStr,\n          dataType: 'json',\n          data:data,\n        }).then(response => {\n          if(response.data.status == 0){//成功\n            this.verificationCode();\n          }else{\n            util.viewPopup(response.data.message);\n          }\n        }).catch(oData => {\n          if(oData.data.status && oData.data.status != 0){\n            util.viewPopup(oData.data.message);\n          }\n        })\n      }else{\n        return;\n      }\n    },\n    phoneLogin(e){//登录请求\n      let that = this;\n      let loginClass = e.srcElement.className;\n      if(loginClass.indexOf('canNext')<0){\n        return;\n      }else{\n        if(!that.phonetrue){\n          util.viewPopup('请输入正确的手机号！');\n          return;\n        }\n        let data ={\n          phoneNo:that.val.PhoneNum,\n          verifyCode:that.val.Password\n        };\n        let urlStr = util.getpost(data);\n        axios({\n          method:\"post\",\n          url:\"/customer/open/quickLogin\"+urlStr,\n          dataType: 'json',\n          data:data,\n        }).then(response => {\n          if(response.data.status==0){\n            let millisecond = new Date().getTime();\n            let expiresTime = new Date(millisecond + 60 * 1000 * 60 * 24 * 15);\n            that.$store.commit('addUserPhone',that.val.PhoneNum);\n            Cookies.set('jingjieUser', that.val.PhoneNum );\n            Cookies.set('VUE2SESSID', response.data.body.token, {expires: expiresTime} );\n            that.$router.go(-1);\n          }else{\n            util.viewPopup(response.data.message);\n            that.val.Password = '';\n          }\n        }).catch(oData => {\n          if(oData.data.status && oData.data.status != 0){\n            util.viewPopup(oData.data.message);\n          }\n        })\n      }\n    },\n    \n  },\n  created(){\n    util.setTitle('手机快捷登录');\n    this.heightStr = 'height:'+(window.innerHeight-80)+'px;';\n    let viewStr = util.webview();\n    if(viewStr == 'other'){\n      this.$store.commit('titleShowFunc',true);\n    }else{\n      this.$store.commit('titleShowFunc',false);\n    }\n  },\n  beforeRouteUpdate(to,from,next){\n    \n  }  \n};  \n</script>  \n  \n<style lang=\"less\" scoped>   \n@import '../../assets/less/signIn_page.less';\n  \n</style> \n\n\n\n\n\n\n\n\n\n\n\n\n\n\n// WEBPACK FOOTER //\n// src/components/land/signIn_page.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"signin\",style:(_vm.heightStr)},[_c('header',{staticClass:\"mint-header is-fixed\"},[_c('div',{staticClass:\"mint-header-button is-left\"},[_c('i',{on:{\"click\":function($event){$event.stopPropagation();_vm.guanbiFunc($event)}}})]),_vm._v(\" \"),_c('h1',{staticClass:\"mint-header-title\"},[(_vm.$store.state.titleShow)?_c('em',{staticStyle:{\"display\":\"inline-block\",\"line-height\":\".44rem\",\"font-size\":\".17rem\"}},[_vm._v(\"手机快捷登录\")]):_vm._e()]),_vm._v(\" \"),_c('div',{staticClass:\"mint-header-button is-right\"},[_c('button',{staticClass:\"mint-button mint-button--default mint-button--normal\",staticStyle:{\"margin-right\":\".05rem\"}},[_c('label',{staticClass:\"mint-button-text\",staticStyle:{\"font-size\":\".14rem\"},on:{\"click\":function($event){$event.stopPropagation();_vm.toRegister($event)}}},[_vm._v(\"注册\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"inputDiv\"},[_c('div',{staticClass:\"tongyiDiv\"},[_c('p',{staticClass:\"PhoneNum\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val.PhoneNum),expression:\"val.PhoneNum\"}],attrs:{\"type\":\"number\",\"oninput\":\"if(value.length>11)value=value.slice(0,11)\",\"placeholder\":\"手机号码\"},domProps:{\"value\":(_vm.val.PhoneNum)},on:{\"input\":[function($event){if($event.target.composing){ return; }_vm.$set(_vm.val, \"PhoneNum\", $event.target.value)},function($event){_vm.watchPhone($event)}]}}),_vm._v(\" \"),(_vm.val.PhoneNum)?_c('i',{on:{\"click\":function($event){_vm.val.PhoneNum = '';}}}):_vm._e()]),_vm._v(\" \"),_c('p',{staticClass:\"Password\"},[_c('input',{directives:[{name:\"model\",rawName:\"v-model\",value:(_vm.val.Password),expression:\"val.Password\"}],attrs:{\"type\":\"number\",\"oninput\":\"if(value.length>6)value=value.slice(0,6)\",\"placeholder\":\"动态密码\"},domProps:{\"value\":(_vm.val.Password)},on:{\"input\":function($event){if($event.target.composing){ return; }_vm.$set(_vm.val, \"Password\", $event.target.value)}}}),_vm._v(\" \"),(_vm.val.Password)?_c('i',{on:{\"click\":function($event){_vm.val.Password = '';}}}):_vm._e(),_vm._v(\" \"),_c('span',{staticClass:\"canClick\",staticStyle:{\"font-size\":\".13rem\",\"float\":\"right\",\"text-align\":\"right\"},on:{\"click\":_vm.ajaxVerificationCode}},[(_vm.show)?_c('b',[_vm._v(_vm._s(_vm.timeStr))]):_vm._e(),_vm._v(\" \"),(!_vm.show)?_c('b',[_vm._v(_vm._s(_vm.count)+\"s\")]):_vm._e()])]),_vm._v(\" \"),_c('p',{staticClass:\"buttonLogin noBorder\"},[_c('span',{class:_vm.val.PhoneNum != ''?'canNext':'',on:{\"click\":function($event){$event.stopPropagation();_vm.phoneLogin($event)}}},[_vm._v(\"登录\")])]),_vm._v(\" \"),_c('p',{staticClass:\"buttonChange noBorder\"},[_c('span',{on:{\"click\":function($event){$event.stopPropagation();_vm.switchUserLogin($event)}}},[_vm._v(\"账号登录\")])])])]),_vm._v(\" \"),_c('div',{staticClass:\"thirdParty\"})])}\nvar staticRenderFns = []\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-06c2f650\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/land/signIn_page.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-06c2f650\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./signIn_page.vue\")\n}\nvar normalizeComponent = require(\"!../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./signIn_page.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../node_modules/vue-loader/lib/selector?type=script&index=0!./signIn_page.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-06c2f650\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../node_modules/vue-loader/lib/selector?type=template&index=0!./signIn_page.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-06c2f650\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/land/signIn_page.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}