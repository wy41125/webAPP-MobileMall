webpackJsonp([39],{YSfI:function(e,t){},dh4M:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=a("Au9i"),s=a("TVG1"),n=a("mtWM"),i=a.n(n),l=a("lbHh"),r=a.n(l),c={name:"signin",data:function(){return{val:{PhoneNum:"",Password:"",classShow:!1,classShow1:!1},show:!0,count:"",timer:null,phonetrue:!1,heightStr:null}},methods:{guanbiFunc:function(){this.$route.query.outLogin?this.$router.push({path:"/"}):this.$router.go(-1)},toRegister:function(){this.$route.query.outLogin?this.$router.replace({name:this.$route.query.name,query:{name:this.$route.query.name,outLogin:"/"}}):this.$router.replace({name:this.$route.query.name,query:{name:this.$route.query.name}})},changeShowHide:function(e){1===e?this.val.classShow?this.val.classShow=!1:this.val.classShow=!0:this.val.classShow1?this.val.classShow1=!1:this.val.classShow1=!0},watchPhone:function(e){var t=e.currentTarget.value;s.a.PASSWORD.test(t)?this.phonetrue=!0:this.phonetrue=!1,console.log(this.phonetrue)},yanzhen:function(){this.phonetrue||(Object(o.Toast)("密码长度为6-16位，数字、字母、字符至少包含两种！"),this.val.PhoneNum="")},phoneLogin:function(e,t){var a=this;if(1==t&&a.val.PhoneNum!==a.val.Password)return Object(o.Toast)("两次密码输入不正确，请重新输入！"),a.val.PhoneNum="",a.val.Password="",a.val.showPhoneNum="",void(a.val.showPassword="");var n={phoneNo:a.$route.query.phoneNo,verifyCode:a.$route.query.verifyCode};1==t&&(n.password=a.val.PhoneNum,n.confirmPassword=a.val.Password);var l=s.a.getpost(n);i()({method:"post",url:"/customer/open/register"+l,dataType:"json",data:n}).then(function(e){if(0==e.data.status){Object(o.Toast)("注册成功");var t=(new Date).getTime(),s=new Date(t+1296e6);a.$store.commit("addUserPhone",a.val.PhoneNum),r.a.set("jingjieUser",a.val.PhoneNum),r.a.set("VUE2SESSID",e.data.body.token,{expires:s}),a.$router.go(-1)}else Object(o.MessageBox)("系统提示",e.data.message),a.val.Password=""}).catch(function(e){e.data.status&&0!=e.data.status&&Object(o.MessageBox)("系统提示",e.data.message)})}},created:function(){s.a.setTitle("注册"),this.heightStr="height:"+(window.innerHeight-80)+"px;","other"==s.a.webview()?this.$store.commit("titleShowFunc",!0):this.$store.commit("titleShowFunc",!1)},beforeRouteUpdate:function(e,t,a){}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"signin",style:e.heightStr},[a("header",{staticClass:"mint-header is-fixed"},[a("div",{staticClass:"mint-header-button is-left"},[a("i",{staticStyle:{"margin-left":".05rem"},on:{click:e.guanbiFunc}})]),e._v(" "),a("h1",{staticClass:"mint-header-title"},[e.$store.state.titleShow?a("em",{staticStyle:{display:"inline-block","line-height":".45rem","font-size":".17rem"}},[e._v("注册")]):e._e()]),e._v(" "),a("div",{staticClass:"mint-header-button is-right"},[a("button",{staticClass:"mint-button mint-button--default mint-button--normal",staticStyle:{"margin-right":".05rem"}},[a("label",{staticClass:"mint-button-text",staticStyle:{"font-size":".14rem"},on:{click:function(t){t.stopPropagation(),e.toRegister(t)}}},[e._v("登录")])])])]),e._v(" "),a("div",{staticClass:"inputDiv"},[a("div",{staticClass:"tongyiDiv"},[a("p",{staticClass:"PhoneNum"},["checkbox"==(e.val.classShow?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.PhoneNum,expression:"val.PhoneNum"}],attrs:{oninput:"if(value.length>16)value=value.slice(0,16)",placeholder:"请设置密码",type:"checkbox"},domProps:{checked:Array.isArray(e.val.PhoneNum)?e._i(e.val.PhoneNum,null)>-1:e.val.PhoneNum},on:{input:function(t){e.watchPhone(t)},change:function(t){var a=e.val.PhoneNum,o=t.target,s=!!o.checked;if(Array.isArray(a)){var n=e._i(a,null);o.checked?n<0&&(e.val.PhoneNum=a.concat([null])):n>-1&&(e.val.PhoneNum=a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.val,"PhoneNum",s)}}}):"radio"==(e.val.classShow?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.PhoneNum,expression:"val.PhoneNum"}],attrs:{oninput:"if(value.length>16)value=value.slice(0,16)",placeholder:"请设置密码",type:"radio"},domProps:{checked:e._q(e.val.PhoneNum,null)},on:{input:function(t){e.watchPhone(t)},change:function(t){e.$set(e.val,"PhoneNum",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.PhoneNum,expression:"val.PhoneNum"}],attrs:{oninput:"if(value.length>16)value=value.slice(0,16)",placeholder:"请设置密码",type:e.val.classShow?"text":"password"},domProps:{value:e.val.PhoneNum},on:{input:[function(t){t.target.composing||e.$set(e.val,"PhoneNum",t.target.value)},function(t){e.watchPhone(t)}]}}),e._v(" "),e.val.PhoneNum?a("i",{on:{click:function(t){e.val.PhoneNum=""}}}):e._e(),e._v(" "),a("span",{class:e.val.classShow?"showchange":"",on:{click:function(t){t.stopPropagation(),e.changeShowHide(1)}}})]),e._v(" "),a("p",{staticClass:"Password"},["checkbox"==(e.val.classShow1?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.Password,expression:"val.Password"}],attrs:{placeholder:"再次确认密码",type:"checkbox"},domProps:{checked:Array.isArray(e.val.Password)?e._i(e.val.Password,null)>-1:e.val.Password},on:{focus:function(t){e.yanzhen()},change:function(t){var a=e.val.Password,o=t.target,s=!!o.checked;if(Array.isArray(a)){var n=e._i(a,null);o.checked?n<0&&(e.val.Password=a.concat([null])):n>-1&&(e.val.Password=a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.val,"Password",s)}}}):"radio"==(e.val.classShow1?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.Password,expression:"val.Password"}],attrs:{placeholder:"再次确认密码",type:"radio"},domProps:{checked:e._q(e.val.Password,null)},on:{focus:function(t){e.yanzhen()},change:function(t){e.$set(e.val,"Password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.Password,expression:"val.Password"}],attrs:{placeholder:"再次确认密码",type:e.val.classShow1?"text":"password"},domProps:{value:e.val.Password},on:{focus:function(t){e.yanzhen()},input:function(t){t.target.composing||e.$set(e.val,"Password",t.target.value)}}}),e._v(" "),e.val.Password?a("i",{on:{click:function(t){e.val.Password=""}}}):e._e(),e._v(" "),a("span",{class:e.val.classShow1?"showchange":"",on:{click:function(t){t.stopPropagation(),e.changeShowHide(2)}}})]),e._v(" "),a("p",{staticClass:"buttonLogin noBorder"},[a("span",{class:e.val.Password.length?"canNext":"",on:{click:function(t){t.stopPropagation(),e.phoneLogin(t,1)}}},[e._v("完成")])]),e._v(" "),a("p",{staticClass:"buttonChange noBorder"},[a("span",{on:{click:function(t){t.stopPropagation(),e.phoneLogin(t)}}},[e._v("跳过直接注册成功")])])])])])},staticRenderFns:[]};var h=a("VU/8")(c,u,!1,function(e){a("YSfI")},"data-v-1cd8a06f",null);t.default=h.exports}});
//# sourceMappingURL=39.8ea6a34d1d921a28aa8d.js.map