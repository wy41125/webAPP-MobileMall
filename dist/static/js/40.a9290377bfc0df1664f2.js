webpackJsonp([40],{"+0ZS":function(e,t){},qir2:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var o=i("wFFv"),n=(i("95YI"),i("Au9i")),a=i("mtWM"),s=i.n(a),r=i("TVG1"),p={name:"changeAddless",data:function(){return{addrId:null,name:null,phoneNo:null,province:null,city:null,county:null,address:null,defaultFlag:1,postCode:"",addStr:null,popupVisible:!1}},created:function(){0==this.$route.query.sourcePage?r.a.setTitle("新增收货地址"):r.a.setTitle("修改收货人地址"),this.$route.query.addrId&&(this.addrId=this.$route.query.addrId,this.name=decodeURIComponent(this.$route.query.name),this.phoneNo=decodeURIComponent(this.$route.query.phoneNo),this.province=decodeURIComponent(this.$route.query.province),this.city=decodeURIComponent(this.$route.query.city),this.county=decodeURIComponent(this.$route.query.county),this.address=decodeURIComponent(this.$route.query.address),this.defaultFlag=this.$route.query.defaultFlag,this.postCode=this.$route.query.postCode,this.addStr=this.province+this.city+this.county),"other"==r.a.webview()?this.$store.commit("titleShowFunc",!0):this.$store.commit("titleShowFunc",!1)},beforeRouteUpdate:function(e,t,i){},components:{headers:o.a},methods:{changeUser:function(){""!=this.province&&null!=this.province&&(""!=this.city&&null!=this.city||this.province.indexOf("北京")>=0||this.province.indexOf("上海")>=0||this.province.indexOf("天津")>=0||this.province.indexOf("重庆")>=0)&&""!=this.county&&null!=this.county?this.popupVisible=!1:r.a.viewPopup("请设置正确的所在区域")},onChangeProvince:function(e){this.province=e.value,this.addStr=this.province},onChangeCity:function(e){this.province.indexOf("北京")>=0||this.province.indexOf("上海")>=0||this.province.indexOf("天津")>=0||this.province.indexOf("重庆")>=0?this.city="":this.city=e.value,this.addStr=this.province+this.city},onChangeArea:function(e){this.county=e.value,this.addStr=this.province+this.city+this.county},changeType:function(){this.popupVisible?this.popupVisible=!1:this.popupVisible=!0},changeDefault:function(){1==this.defaultFlag?this.defaultFlag=0:this.defaultFlag=1},verification:function(){var e=null;return this.name?this.phoneNo&&r.a.PHONE_REG.test(this.phoneNo)?this.province&&(this.city||"北京市"==this.province||"上海市"==this.province||"天津市"==this.province||"重庆市"==this.province)&&this.county?this.address?e=!0:(r.a.viewPopup("请输入少于24个字的详细地址！"),e=!1):(r.a.viewPopup("请设置正确的所在区域"),e=!1):(r.a.viewPopup("请输入正确的手机号码"),e=!1):(r.a.viewPopup("请输入正确的收货人姓名"),e=!1),e},preservation:function(){if(this.verification()){var e=this,t={addrId:e.addrId,name:e.name,phoneNo:e.phoneNo,province:e.province,city:e.city,county:e.county,address:e.address,defaultFlag:e.defaultFlag,postCode:e.postCode},i=r.a.getpost(t);s()({method:"post",url:"/deliverAddr/setting"+i,dataType:"json",data:t}).then(function(t){0==t.data.status?(Object(n.Toast)("保存成功！"),e.$router.go(-1)):Object(n.MessageBox)("系统提示",t.data.message)}).catch(function(e){Object(n.MessageBox)("系统提示",e.data.message)})}}}},d={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"changeAddless"},[e.$store.state.titleShow?i("headers",{attrs:{headerType:2,headerStr:0==e.$route.query.sourcePage?"新增收货地址":"修改收货人地址"}}):e._e(),e._v(" "),i("div",{staticClass:"data",style:e.$store.state.titleShow?"margin-top:.4rem":""},[i("ul",[i("li",[i("span",[e._v("收货人姓名")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.name,expression:"name"}],attrs:{type:"text",placeholder:"请输入收货人姓名"},domProps:{value:e.name},on:{input:function(t){t.target.composing||(e.name=t.target.value)}}})]),e._v(" "),i("li",[i("span",[e._v("手机号码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNo,expression:"phoneNo"}],attrs:{type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",placeholder:"请输入手机号码"},domProps:{value:e.phoneNo},on:{input:function(t){t.target.composing||(e.phoneNo=t.target.value)}}})]),e._v(" "),i("li",{on:{click:function(t){t.stopPropagation(),e.changeType(t)}}},[i("span",[e._v("所在区域")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.addStr,expression:"addStr"}],attrs:{type:"text"},domProps:{value:e.addStr},on:{input:function(t){t.target.composing||(e.addStr=t.target.value)}}})]),e._v(" "),i("li",[i("span",[e._v("详细地址")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.address,expression:"address"}],attrs:{type:"text",placeholder:"请输入街道地址"},domProps:{value:e.address},on:{input:function(t){t.target.composing||(e.address=t.target.value)}}})]),e._v(" "),i("li",[i("span",[e._v("邮政编码")]),e._v(" "),i("input",{directives:[{name:"model",rawName:"v-model",value:e.postCode,expression:"postCode"}],attrs:{type:"text",placeholder:"请输入邮政编码"},domProps:{value:e.postCode},on:{input:function(t){t.target.composing||(e.postCode=t.target.value)}}})])]),e._v(" "),i("div",{staticClass:"default",on:{click:function(t){t.stopPropagation(),e.changeDefault(t)}}},[i("i",{class:1==e.defaultFlag?"active":""}),e._v("设为默认地址\n  \t")])]),e._v(" "),i("div",{staticClass:"bottom",on:{click:function(t){t.stopPropagation(),e.preservation(t)}}},[e._v("\n  \t保存地址\n  ")]),e._v(" "),i("mt-popup",{staticClass:"tanchuang",attrs:{position:"bottom"},model:{value:e.popupVisible,callback:function(t){e.popupVisible=t},expression:"popupVisible"}},[i("div",{staticClass:"areas"},[i("v-distpicker",{staticClass:"map",attrs:{province:"请选择省",type:"mobile"},on:{province:e.onChangeProvince,city:e.onChangeCity,area:e.onChangeArea}})],1),e._v(" "),i("div",{staticClass:"button",on:{click:function(t){t.stopPropagation(),e.changeUser(t)}}},[e._v("\n        确定\n      ")])])],1)},staticRenderFns:[]};var c=i("VU/8")(p,d,!1,function(e){i("+0ZS")},"data-v-1a7ec774",null);t.default=c.exports}});
//# sourceMappingURL=40.a9290377bfc0df1664f2.js.map