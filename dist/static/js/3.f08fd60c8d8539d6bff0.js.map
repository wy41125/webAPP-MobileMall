{"version":3,"sources":["webpack:///src/components/My/coupons/canvasObj.vue","webpack:///./src/components/My/coupons/canvasObj.vue?ac29","webpack:///./src/components/My/coupons/canvasObj.vue","webpack:///src/components/My/coupons/coupons.vue","webpack:///./src/components/My/coupons/coupons.vue?e8df","webpack:///./src/components/My/coupons/coupons.vue"],"names":["canvasObj","Number","beginPath","stroke","closePath","canvasyuan","huayuan","coupons_canvasObj","render","this","$createElement","_self","_c","_m","staticRenderFns","_h","staticClass","staticStyle","position","top","right","z-index","attrs","width","height","_v","Component","__webpack_require__","normalizeComponent","ssrContext","__webpack_exports__","coupons","headers","navigation","_this","id","data","urlStr","then","response","reload","outLogin","message","body","i","ajaxcoupons","webview","coupons_coupons","_vm","$store","state","headerType","headerStr","_e","src","alt","isShow","style","titleShow","_l","item","cardStatus","cardRemainNum","on","click","$event","stopPropagation","Receive","cardId","cardType","font-size","_s","cardVal","minUsePrice","name","startTime","endTime","class","classStr","PercentageReceiving","jumpGoodLIst"],"mappings":"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","file":"static/js/3.f08fd60c8d8539d6bff0.js","sourcesContent":["<template>  \n  <div class=\"canvasObj\">  \n    <canvas class=\"yuan\" width=\"50px;\" height=\"50px\" style=\"position:absolute;top:0;right:0;z-index:100;\"></canvas>\n    <canvas class=\"yuans\" width=\"50px;\" height=\"50px\" style=\"position:absolute;top:0;right:0;z-index:1000;\"></canvas>\t\n  </div>  \n</template>  \n  \n<script>  \nimport {MessageBox} from 'mint-ui'\nimport axios from 'axios'\nimport util from '@/libs/util' \nexport default {  \n  name: 'coupons',  \n  data() {  \n    return {  \n      \n    };  \n  },\n  props:{\n  \tdataBili:Number,\n  },\n  methods:{\n\n    canvasyuan(){\n    \tlet canvas = document.getElementsByClassName('yuan');\n      let cxt=canvas[0].getContext(\"2d\");\n      cxt.beginPath();\n      cxt.arc(25,25,23,0,1*Math.PI,false);\n      cxt.lineWidth=3;\n      cxt.strokeStyle=\"rgba(255,255,255,0.5)\";\n      cxt.stroke();//画空心圆\n      cxt.closePath();\n   //  \tfor(let i=0;i<canvas.length-1;i++){\n   //  \t\tconsole.log(canvas[i]);\n   //  \t\tlet cxt=canvas[i].getContext(\"2d\");\n   //  \t\tcxt.beginPath();\n\t\t\t// cxt.arc(25,25,23,0,360,false);\n\t\t\t// cxt.lineWidth=1;\n\t\t\t// cxt.strokeStyle=\"#fff\";\n\t\t\t// cxt.stroke();//画空心圆\n\t\t\t// cxt.closePath();\n   //  \t}\n    },\n    huayuan(){\n    \tlet canvass = document.getElementsByClassName('yuans');\n      let cxts=canvass[i].getContext(\"2d\");\n      cxts.beginPath();\n      cxts.arc(25,25,23,0,0.5*Math.PI,1);\n      cxts.strokeStyle=\"red\";\n      cxts.lineWidth=3;\n      cxts.stroke();//画空心圆\n      cxts.closePath();\n   //  \tfor(let i=0;i<canvas.length-1;i++){\n   //  \t\tlet cxts=canvass[i].getContext(\"2d\");\n   //  \t\tcxts.beginPath();\n\t\t\t// cxts.arc(25,25,23,0,0.5*Math.PI,1);\n\t\t\t// cxts.strokeStyle=\"#fff\";\n\t\t\t// cxts.lineWidth=3;\n\t\t\t// cxts.stroke();//画空心圆\n\t\t\t// cxts.closePath();\n   //  \t}\n    }\n  },\n  created(){\n  \t\n  },\n  mounted(){\n    this.canvasyuan();\n  },\n  beforeRouteUpdate(to,from,next){\n    \n  },\n  beforeUpdate(){\n    \n  },\n  watch:{\n  \tdataBili(){\n  \t\tthis.canvasyuan();\n    \tthis.huayuan();\n  \t}\n  }\n\n};  \n</script>  \n  \n<style lang=\"less\">   \n\t.canvasObj{\n    background:#000;\n\t\tposition: absolute;\n\t\ttop: 0;\n\t\tleft: 0;\n\t\twidth: 100%;\n\t\theight: 100%;\n\t}\n</style> \n\n\n// WEBPACK FOOTER //\n// src/components/My/coupons/canvasObj.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _vm._m(0)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"canvasObj\"},[_c('canvas',{staticClass:\"yuan\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"z-index\":\"100\"},attrs:{\"width\":\"50px;\",\"height\":\"50px\"}}),_vm._v(\" \"),_c('canvas',{staticClass:\"yuans\",staticStyle:{\"position\":\"absolute\",\"top\":\"0\",\"right\":\"0\",\"z-index\":\"1000\"},attrs:{\"width\":\"50px;\",\"height\":\"50px\"}})])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-a9ec02c8\",\"hasScoped\":false,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/My/coupons/canvasObj.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-a9ec02c8\\\",\\\"scoped\\\":false,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./canvasObj.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./canvasObj.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./canvasObj.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-a9ec02c8\\\",\\\"hasScoped\\\":false,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./canvasObj.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = null\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/My/coupons/canvasObj.vue\n// module id = null\n// module chunks = ","<template>  \n  <div class=\"coupons\">\n    <headers v-if=\"$store.state.titleShow\" :headerType='2' :headerStr=\"'领券中心'\"></headers>\n    <div class=\"nodata\" v-if=\"isShow\" >\n    \t<img src=\"../../../assets/images/shopCart/card_empty@2x.png\" alt=\"\">\n    \t<p class=\"nodata_p\">暂无优惠券</p>\n    </div>\n    <div v-if=\"!isShow\" class=\"receive\" :style=\"$store.state.titleShow?'margin-top:.45rem':''\">\n    \t<div class=\"tongyi canReceive\" v-for=\"item in items\" v-if=\"item.cardStatus==2&&item.cardRemainNum>0\" @click.stop=\"Receive(item.cardId,$event)\">\n    \t\t<div class=\"conent\" :style=\"fontsize\">\n    \t\t\t<p>\n            <span v-if=\"item.cardType==1\"><em style=\"font-size:.18rem;\">¥</em><i>{{item.cardVal/100}}</i></span>\n            <span v-if=\"item.cardType==2\"><i>{{item.cardVal}}</i>折</span>\n            <span><em v-if=\"item.minUsePrice/100 != 0\">满{{item.minUsePrice/100}}元可用</em><em v-if=\"item.minUsePrice/100 == 0\">无现金门槛</em></span>\n    \t\t\t</p>\n    \t\t\t<p>\n            <span>{{item.name}}</span>\n            <span>{{item.startTime}}-{{item.endTime}}</span>\n          </p>\n    \t\t</div>\n    \t\t<div :class=\"'data '+item.classStr\">\n          <!-- <i>已抢<br>0%</i> -->\n          <!-- <el-progress type=\"circle\" :percentage=\"item.PercentageReceiving\" color=\"#fff\" width=\"48\" stroke-width=\"3\"></el-progress> -->\n          <!-- <canvasObjs :dataBili=\"item.PercentageReceiving\"></canvasObjs> -->\n    \t\t\t<p><span>已抢{{item.PercentageReceiving}}%</span></p>\n    \t\t</div>\n    \t</div>\n    \t<div class=\"tongyi isReceive\" v-for=\"item in items\" v-if=\"item.cardStatus==1\" @click.stop=\"jumpGoodLIst(item.cardId)\">\n    \t\t<div class=\"conent\" :style=\"fontsize\">\n    \t\t\t<p>\n            <span v-if=\"item.cardType==1\"><em style=\"font-size:.18rem;\">¥</em><i>{{item.cardVal/100}}</i></span>\n            <span v-if=\"item.cardType==2\"><i>{{item.cardVal}}</i>折</span>\n            <span><em v-if=\"item.minUsePrice/100 != 0\">满{{item.minUsePrice/100}}元可用</em><em v-if=\"item.minUsePrice/100 == 0\">无现金门槛</em></span>\n          </p>\n          <p>\n            <span>{{item.name}}</span>\n            <span>{{item.startTime}}-{{item.endTime}}</span>\n          </p>\n    \t\t</div>\n    \t\t<div class=\"data\"><p></p></div>\n    \t</div>\n    \t<div class=\"tongyi noReceive\" v-for=\"item in items\" v-if=\"item.cardRemainNum==0\" @click.stop=\"jumpGoodLIst(item.cardId)\">\n    \t\t<div class=\"conent\" :style=\"fontsize\">\n    \t\t\t<p>\n            <span v-if=\"item.cardType==1\"><em style=\"font-size:.18rem;\">¥</em><i>{{item.cardVal/100}}</i></span>\n            <span v-if=\"item.cardType==2\"><i>{{item.cardVal}}</i>折</span>\n            <span><em v-if=\"item.minUsePrice/100 != 0\">满{{item.minUsePrice/100}}元可用</em><em v-if=\"item.minUsePrice/100 == 0\">无现金门槛</em></span>\n          </p>\n          <p>\n            <span>{{item.name}}</span>\n            <span>{{item.startTime}}-{{item.endTime}}</span>\n          </p>\n    \t\t</div>\n    \t\t<div class=\"data\"><p></p></div>\n    \t</div>\n    </div>\n    <navigation></navigation>\n  </div>  \n</template>  \n  \n<script> \nimport navigation from '../../goods/navigation.vue' \nimport headers from '../../headers.vue' \nimport {Toast,MessageBox} from 'mint-ui'\nimport Cookies from 'js-cookie';\nimport axios from 'axios'\nimport util from '@/libs/util' \nimport canvasObj from '@/components/My/coupons/canvasObj'\nexport default {  \n  name: 'coupons',  \n  data() {  \n    return {  \n      isShow:false,\n      fontsize:null,//卡券高度\n      items:[],\n      bili:null,\n      classStr:'',\n    };  \n  },\n  components:{\n    headers:headers,\n    navigation:navigation,\n  },\n  methods:{\n    Receive(id,event){\n      \n      if(!Cookies.get('VUE2SESSID')){\n        this.$router.push({name:'signInPage',query:{'name':'coupons'}});\n        return;\n      }\n      let that =this;\n      let data = {\"cardId\":id};\n      let urlStr = util.getpost(data);\n      axios({\n        method:\"post\",\n        url:\"/collect/receiveCard\"+urlStr,\n        dataType: 'json',\n        data:data,\n      }).then(response => {\n        if(response.data.status == 0){\n          Toast('领取成功！');\n          event.currentTarget.className = 'tongyi isReceive';\n          event.srcElement.removeChild(event.srcElement.getElementsByClassName('data')[0]);    \n          location.reload();\n        }else{\n          if(response.data.status == 499){\n            util.outLogin();\n            this.$router.push({name:'signInPage',query:{outLogin:'/'}});\n          }else{\n            MessageBox('系统提示',response.data.message);\n          }\n        }\n      }).catch(oData => {\n        MessageBox('系统提示',oData.data.message);\n      }) \n    },\n    jumpGoodLIst(id){//可用商品跳转商品列表页\n      this.$router.push({name:'goodsList',query:{cardid:id}});\n    },\n    jumpHomepage(){//去逛逛跳转首页\n      window.sessionStorage.setItem('tabbar','homepage');\n      this.$router.replace({path:'/'});\n    },\n    ajaxcoupons(){\n    \tlet that =this;\n      \tlet data = {};\n      \tlet urlStr = util.getpost(data);\n      \taxios({\n        \tmethod:\"post\",\n        \turl:\"/open/cardCenter\"+urlStr,\n        \tdataType: 'json',\n        \tdata:data,\n      \t}).then(response => {\n        \tif(response.data.status == 0){\n          \tthat.items = response.data.body;\n            for(let i in that.items){\n              let item = that.items[i];\n              if(item.cardStatus==2 && item.cardRemainNum>0){\n                item['PercentageReceiving'] = (((item.cardNum-item.cardRemainNum)/item.cardNum)*100).toFixed(1);\n                if(item.PercentageReceiving <10){\n                  item['classStr'] = 'progressBar00';\n                }else if(item.PercentageReceiving>10 && item.PercentageReceiving<20){\n                  item['classStr'] = 'progressBar10';\n                }else if(item.PercentageReceiving>20 && item.PercentageReceiving<40){\n                  item['classStr'] = 'progressBar20';\n                }else if (item.PercentageReceiving>40 && item.PercentageReceiving<60){\n                  item['classStr'] = 'progressBar40';\n                }else if(item.PercentageReceiving>60 && item.PercentageReceiving<80){\n                  item['classStr'] = 'progressBar60';\n                }else if(item.PercentageReceiving>80 && item.PercentageReceiving<100){\n                  item['classStr'] = 'progressBar80';\n                }else if(item.PercentageReceiving == 100){\n                  item['classStr'] = 'progressBar100';\n                }\n              }\n            }\n        \t}else{\n        \t\tthat.imgShow = false;\n            MessageBox('系统提示',response.data.message);\n        \t}\n      \t}).catch(oData => {\n        \tMessageBox('系统提示',oData.data.message);\n      \t})\n    },\n  },\n  created(){\n  \tif(window.innerWidth<=320){\n      this.fontsize = 'font-size:12px;';\n    }else if(window.innerWidth>=414){\n      this.fontsize = 'font-size:16px;';\n    }\n    this.ajaxcoupons();\n    util.setTitle('领券中心');\n    let viewStr = util.webview();\n    if(viewStr == 'other'){\n      this.$store.commit('titleShowFunc',true);\n    }else{\n      this.$store.commit('titleShowFunc',false);\n    }\n  },\n  mounted(){\n    \n  },\n  beforeRouteUpdate(to,from,next){\n    \n  },\n  beforeUpdate(){\n    \n  }\n\n};  \n</script>  \n  \n<style lang=\"less\" scoped>\n  .el-progress-circle__track{\n    background: rgba(255,255,255,.3)\n  }\n  .el-progress__text{\n    color: #fff;\n  }\n\t.coupons{\n\t\twidth: 100%;\n\t\theight: 100%;\n\t\tfont-size: 0.12rem;\n\t\t.nodata{\n      color:#989898;\n      font-size:13px;\n\t\t\tmargin-top:1.5rem; \n\t\t\timg{\n\t\t\t\twidth: 0.95rem;\n\t\t\t\theight: 0.85rem;\n        margin-bottom:.08rem;\n\t\t\t}\n\t\t}\n\t\t.receive{\n\t\t\tpadding: 0.1rem 0.15rem;\n\t\t\t.tongyi{\n\t\t\t\twidth: 95%;\n        padding-right: 5%;\n\t\t\t\theight: 1rem;\n\t\t\t\tbackground: url('../../../assets/images/my/coupons/background1@2x.png') no-repeat;\n\t\t\t\tbackground-size: 100% 100%;\n\t\t\t\tcolor: #fff;\n        margin-bottom: .1rem;\n        text-align: left;\n\t\t\t\t.conent{\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\twidth: 70%;\n\t\t\t\t\ttext-align: left;\n\t\t\t\t\tmargin: 0.15rem 0 0 0;\n\t\t\t\t\tfont-size: 0.14rem;\n\t\t\t\t\tp:nth-child(1){\n            display: inline-block;\n            width: 42%;\n            text-align: center;\n\t\t\t\t\t\tspan{\n\t\t\t\t\t\t\tdisplay: inline-block;\n              text-align: center;\n\t\t\t\t\t\t\t&:nth-child(1){\n                display: block;\n\t\t\t\t\t\t\t\tfont-size: 0.25rem;\n                font-weight: bold;\n\t\t\t\t\t\t\t\ti{\n\t\t\t\t\t\t\t\t\twidth: 0.5rem;\n\t\t\t\t\t\t\t\t\tfont-size: 0.3rem;\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t} \n          p:nth-child(2){\n            vertical-align: top;\n            display: inline-block;\n            width: 52%;\n            position: relative;\n            height: 100%;\n            span:nth-child(1){\n              display: inline-block;\n              margin: .2rem 0;\n              margin-top: .1rem;\n              height: .38rem;\n              overflow : hidden;\n              text-overflow: ellipsis;\n              display: -webkit-box;\n              -webkit-line-clamp:2;\n              -webkit-box-orient: vertical;\n              margin-left: .15rem;\n            }\n            span:nth-child(2){\n              display: inline-block;\n              position: absolute;\n              left: .15rem;\n              bottom: -13px;\n              font-size: .12rem;\n            }\n          }\n\t\t\t\t}\n\t\t\t\t.data{\n\t\t\t\t\tdisplay: inline-block;\n\t\t\t\t\twidth: .5rem;\n\t\t\t\t\theight: .5rem;\n\t\t\t\t\tvertical-align: top;\n          position: relative;\n          margin-top: .08rem;\n          float: right;\n          &.progressBar00{\n            background:url(../../../assets/images/my/coupons/progressBar/0%@2x.png) no-repeat;\n            background-size:100%;\n          }\n          &.progressBar10{\n            background:url(../../../assets/images/my/coupons/progressBar/10%@2x.png) no-repeat;\n            background-size:100%;\n          }\n          &.progressBar20{\n            background:url(../../../assets/images/my/coupons/progressBar/20%@2x.png) no-repeat;\n            background-size:100%;\n          }\n          &.progressBar40{\n            background:url(../../../assets/images/my/coupons/progressBar/40%@2x.png) no-repeat;\n            background-size:100%;\n          }\n          &.progressBar60{\n            background:url(../../../assets/images/my/coupons/progressBar/60%@2x.png) no-repeat;\n            background-size:100%;\n          }\n          &.progressBar80{\n            background:url(../../../assets/images/my/coupons/progressBar/80%@2x.png) no-repeat;\n            background-size:100%;\n          }\n          &.progressBar100{\n            background:url(../../../assets/images/my/coupons/progressBar/100%@2x.png) no-repeat;\n            background-size:100%;\n          }\n\t\t\t\t\tp{\n\t\t\t\t\t\twidth: 100%;\n\t\t\t\t\t\theight: 100%;\n\t\t\t\t\t\ttext-align: center;\n            display: flex;\n            display: -webkie-flex;\n            flex-direction: column;\n            justify-content: center;\n\t\t\t\t\t\tspan{\n              display: block;\n              margin: 0 auto;\n\t\t\t\t\t\t\twidth: 0.25rem;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t}\n\t\t\t.isReceive{\n\t\t\t\tbackground: url('../../../assets/images/my/coupons/background2@2x.png') no-repeat;\n\t\t\t\tbackground-size: 100% 100%;\n\t\t\t}\n\t\t\t.noReceive{\n\t\t\t\tbackground: url('../../../assets/images/my/coupons/background3@2x.png') no-repeat;\n\t\t\t\tbackground-size: 100% 100%;\n\t\t\t}\n\t\t}\n\t}\n</style> \n\n\n// WEBPACK FOOTER //\n// src/components/My/coupons/coupons.vue","var render = function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"coupons\"},[(_vm.$store.state.titleShow)?_c('headers',{attrs:{\"headerType\":2,\"headerStr\":'领券中心'}}):_vm._e(),_vm._v(\" \"),(_vm.isShow)?_c('div',{staticClass:\"nodata\"},[_c('img',{attrs:{\"src\":require(\"../../../assets/images/shopCart/card_empty@2x.png\"),\"alt\":\"\"}}),_vm._v(\" \"),_c('p',{staticClass:\"nodata_p\"},[_vm._v(\"暂无优惠券\")])]):_vm._e(),_vm._v(\" \"),(!_vm.isShow)?_c('div',{staticClass:\"receive\",style:(_vm.$store.state.titleShow?'margin-top:.45rem':'')},[_vm._l((_vm.items),function(item){return (item.cardStatus==2&&item.cardRemainNum>0)?_c('div',{staticClass:\"tongyi canReceive\",on:{\"click\":function($event){$event.stopPropagation();_vm.Receive(item.cardId,$event)}}},[_c('div',{staticClass:\"conent\",style:(_vm.fontsize)},[_c('p',[(item.cardType==1)?_c('span',[_c('em',{staticStyle:{\"font-size\":\".18rem\"}},[_vm._v(\"¥\")]),_c('i',[_vm._v(_vm._s(item.cardVal/100))])]):_vm._e(),_vm._v(\" \"),(item.cardType==2)?_c('span',[_c('i',[_vm._v(_vm._s(item.cardVal))]),_vm._v(\"折\")]):_vm._e(),_vm._v(\" \"),_c('span',[(item.minUsePrice/100 != 0)?_c('em',[_vm._v(\"满\"+_vm._s(item.minUsePrice/100)+\"元可用\")]):_vm._e(),(item.minUsePrice/100 == 0)?_c('em',[_vm._v(\"无现金门槛\")]):_vm._e()])]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.startTime)+\"-\"+_vm._s(item.endTime))])])]),_vm._v(\" \"),_c('div',{class:'data '+item.classStr},[_c('p',[_c('span',[_vm._v(\"已抢\"+_vm._s(item.PercentageReceiving)+\"%\")])])])]):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.items),function(item){return (item.cardStatus==1)?_c('div',{staticClass:\"tongyi isReceive\",on:{\"click\":function($event){$event.stopPropagation();_vm.jumpGoodLIst(item.cardId)}}},[_c('div',{staticClass:\"conent\",style:(_vm.fontsize)},[_c('p',[(item.cardType==1)?_c('span',[_c('em',{staticStyle:{\"font-size\":\".18rem\"}},[_vm._v(\"¥\")]),_c('i',[_vm._v(_vm._s(item.cardVal/100))])]):_vm._e(),_vm._v(\" \"),(item.cardType==2)?_c('span',[_c('i',[_vm._v(_vm._s(item.cardVal))]),_vm._v(\"折\")]):_vm._e(),_vm._v(\" \"),_c('span',[(item.minUsePrice/100 != 0)?_c('em',[_vm._v(\"满\"+_vm._s(item.minUsePrice/100)+\"元可用\")]):_vm._e(),(item.minUsePrice/100 == 0)?_c('em',[_vm._v(\"无现金门槛\")]):_vm._e()])]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.startTime)+\"-\"+_vm._s(item.endTime))])])]),_vm._v(\" \"),_vm._m(0,true)]):_vm._e()}),_vm._v(\" \"),_vm._l((_vm.items),function(item){return (item.cardRemainNum==0)?_c('div',{staticClass:\"tongyi noReceive\",on:{\"click\":function($event){$event.stopPropagation();_vm.jumpGoodLIst(item.cardId)}}},[_c('div',{staticClass:\"conent\",style:(_vm.fontsize)},[_c('p',[(item.cardType==1)?_c('span',[_c('em',{staticStyle:{\"font-size\":\".18rem\"}},[_vm._v(\"¥\")]),_c('i',[_vm._v(_vm._s(item.cardVal/100))])]):_vm._e(),_vm._v(\" \"),(item.cardType==2)?_c('span',[_c('i',[_vm._v(_vm._s(item.cardVal))]),_vm._v(\"折\")]):_vm._e(),_vm._v(\" \"),_c('span',[(item.minUsePrice/100 != 0)?_c('em',[_vm._v(\"满\"+_vm._s(item.minUsePrice/100)+\"元可用\")]):_vm._e(),(item.minUsePrice/100 == 0)?_c('em',[_vm._v(\"无现金门槛\")]):_vm._e()])]),_vm._v(\" \"),_c('p',[_c('span',[_vm._v(_vm._s(item.name))]),_vm._v(\" \"),_c('span',[_vm._v(_vm._s(item.startTime)+\"-\"+_vm._s(item.endTime))])])]),_vm._v(\" \"),_vm._m(1,true)]):_vm._e()})],2):_vm._e(),_vm._v(\" \"),_c('navigation')],1)}\nvar staticRenderFns = [function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data\"},[_c('p')])},function () {var _vm=this;var _h=_vm.$createElement;var _c=_vm._self._c||_h;return _c('div',{staticClass:\"data\"},[_c('p')])}]\nvar esExports = { render: render, staticRenderFns: staticRenderFns }\nexport default esExports\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./node_modules/vue-loader/lib/template-compiler?{\"id\":\"data-v-70c291e5\",\"hasScoped\":true,\"transformToRequire\":{\"video\":[\"src\",\"poster\"],\"source\":\"src\",\"img\":\"src\",\"image\":\"xlink:href\"},\"buble\":{\"transforms\":{}}}!./node_modules/vue-loader/lib/selector.js?type=template&index=0!./src/components/My/coupons/coupons.vue\n// module id = null\n// module chunks = ","function injectStyle (ssrContext) {\n  require(\"!!../../../../node_modules/extract-text-webpack-plugin/dist/loader.js?{\\\"omit\\\":1,\\\"remove\\\":true}!vue-style-loader!css-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/style-compiler/index?{\\\"vue\\\":true,\\\"id\\\":\\\"data-v-70c291e5\\\",\\\"scoped\\\":true,\\\"hasInlineConfig\\\":false}!less-loader?{\\\"sourceMap\\\":true}!../../../../node_modules/vue-loader/lib/selector?type=styles&index=0!./coupons.vue\")\n}\nvar normalizeComponent = require(\"!../../../../node_modules/vue-loader/lib/component-normalizer\")\n/* script */\nexport * from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coupons.vue\"\nimport __vue_script__ from \"!!babel-loader!../../../../node_modules/vue-loader/lib/selector?type=script&index=0!./coupons.vue\"\n/* template */\nimport __vue_template__ from \"!!../../../../node_modules/vue-loader/lib/template-compiler/index?{\\\"id\\\":\\\"data-v-70c291e5\\\",\\\"hasScoped\\\":true,\\\"transformToRequire\\\":{\\\"video\\\":[\\\"src\\\",\\\"poster\\\"],\\\"source\\\":\\\"src\\\",\\\"img\\\":\\\"src\\\",\\\"image\\\":\\\"xlink:href\\\"},\\\"buble\\\":{\\\"transforms\\\":{}}}!../../../../node_modules/vue-loader/lib/selector?type=template&index=0!./coupons.vue\"\n/* template functional */\nvar __vue_template_functional__ = false\n/* styles */\nvar __vue_styles__ = injectStyle\n/* scopeId */\nvar __vue_scopeId__ = \"data-v-70c291e5\"\n/* moduleIdentifier (server only) */\nvar __vue_module_identifier__ = null\nvar Component = normalizeComponent(\n  __vue_script__,\n  __vue_template__,\n  __vue_template_functional__,\n  __vue_styles__,\n  __vue_scopeId__,\n  __vue_module_identifier__\n)\n\nexport default Component.exports\n\n\n\n//////////////////\n// WEBPACK FOOTER\n// ./src/components/My/coupons/coupons.vue\n// module id = null\n// module chunks = "],"sourceRoot":""}