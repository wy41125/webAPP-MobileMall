webpackJsonp([16],{A9zB:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("lbHh"),i=a.n(s),n=a("wFFv"),o=a("Au9i"),r=a("mtWM"),l=a.n(r),d=a("TVG1"),c={name:"applicationRefund",data:function(){return{totalRefund:null,orderId:null,orderDetailIds:null,phoneNum:null,yuanyinVal:null,textvalue:null,dataUrl:[],oneArr:[{reason:"未选择"}],twoArr:[],therrArr:[]}},components:{headers:n.a},methods:{readPhone:function(){var e=this;e.$store.state.userPhone&&""!=e.$store.state.userPhone?e.phoneNum=e.$store.state.userPhone:i.a.get("jingjieUser")&&(e.phoneNum=i.a.get("jingjieUser"))},deleteImg:function(e){this.dataUrl.splice(e,1)},ajaxdata:function(){var e=this,t={},a=d.a.getpost(t);l()({method:"post",url:"/ordercs/getCancelReasonList"+a,dataType:"json",data:t}).then(function(t){if(0==t.data.status)for(var a in t.data.body){var s=t.data.body[a];"REPLY-GOODS-REASON"==s.code&&e.oneArr.push(s),"REPLY-GOODS-REASON"==s.code&&s.reason.indexOf("性能")>=0&&(e.therrArr=s.dtoList),"REPLY-GOODS-REASON"==s.code&&s.reason.indexOf("颜色")>=0&&(e.twoArr=s.dtoList)}else(t.data.status=499)?(d.a.outLogin(),e.$router.push({name:"signInPage",query:{outLogin:"/"}})):Object(o.MessageBox)("系统提示",t.data.message)}).catch(function(e){Object(o.MessageBox)("系统提示",e.data.message)})},paizhao:function(e,t,a){var s=a.currentTarget.files[0].name,i=this,n=document.querySelector(e).files[0],o=new FileReader;document.querySelector("#imgs");o.readAsDataURL(n),o.onload=function(e){i.uploadImg(e.target.result,s)}},uploadImg:function(e,t){var a=this,s={fileData:e,fileName:t,type:3},i=d.a.getpost(s);l()({method:"post",url:"/common/upload"+i,dataType:"json",data:s}).then(function(e){if(0==e.data.status){var t=document.getElementById("upload");t.outerHTML=t.outerHTML,a.dataUrl.length<6?a.dataUrl.push(e.data.body):Object(o.Toast)("亲，最多添加6张哦！")}else(e.data.status=499)?(d.a.outLogin(),a.$router.push({name:"signInPage",query:{outLogin:"/"}})):Object(o.MessageBox)("系统提示",e.data.message)}).catch(function(e){Object(o.MessageBox)("系统提示",e.data.message)})},onSelected:function(e){this.yuanyinVal=e.target.value},ajaxtijiao:function(){var e=this,t={};t.orderId=e.orderId;var a=document.getElementById("test"),s=a.selectedIndex;if(0!=s)if(t.cancelReason=a.options[s].text,t.cancelDesc=e.textvalue,t.totalRefund=e.totalRefund,t.serviceType=e.$route.query.type,1==s?t.isOpen=document.getElementById("test1").selectedIndex:2==s&&(t.isCheck=document.getElementById("test2").selectedIndex),t.orderDetailIds=e.orderDetailIds,e.phoneNum<11||!d.a.PHONE_REG.test(e.phoneNum))Object(o.Toast)("请填写正确的手机号码！");else{t.contactPhone=e.phoneNum,e.dataUrl.length>0&&(t.imgUrls=e.dataUrl.join(","));var i=d.a.getpost(t);l()({method:"post",url:"/ordercs/createReturnOrder"+i,dataType:"json",data:t}).then(function(t){0==t.data.status?e.$router.push({name:"customDe",query:{cancelId:t.data.body.cancelOrderId}}):(t.data.status=499)?(d.a.outLogin(),e.$router.push({name:"signInPage"})):Object(o.MessageBox)("系统提示",t.data.message)}).catch(function(e){Object(o.MessageBox)("系统提示",e.data.message)})}else Object(o.Toast)("请选择原因")}},created:function(){this.readPhone(),this.ajaxdata(),this.orderId=this.$route.query.orderId;var e=decodeURIComponent(this.$route.query.orderDetailIds).split(","),t="";for(var a in e)this.totalRefund+=Number(e[a].split("#")[1]),a==e.length-1?t+=e[a].split("#")[0]:t+=e[a].split("#")[0]+",";this.orderDetailIds=t,1==this.$route.query.type?d.a.setTitle("申请退货"):d.a.setTitle("申请换货"),"other"==d.a.webview()?this.$store.commit("titleShowFunc",!0):this.$store.commit("titleShowFunc",!1)}},u={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",[e.$store.state.titleShow&&1==e.$route.query.type?s("headers",{attrs:{headerType:2,headerStr:"申请退货"}}):e._e(),e._v(" "),e.$store.state.titleShow&&1!=e.$route.query.type?s("headers",{attrs:{headerType:2,headerStr:"申请换货"}}):e._e(),e._v(" "),s("div",{staticClass:"applicationRefund",style:e.$store.state.titleShow?"margin-top:.45rem":""},[s("div",{staticClass:"applica_div"},[s("div",{staticClass:"applica_div_input"},[e._m(0),e._v(" "),s("input",{directives:[{name:"model",rawName:"v-model",value:e.phoneNum,expression:"phoneNum"}],attrs:{type:"tel",oninput:"if(value.length>11)value=value.slice(0,11)",placeholder:"请填写联系电话"},domProps:{value:e.phoneNum},on:{input:function(t){t.target.composing||(e.phoneNum=t.target.value)}}})]),e._v(" "),1==e.$route.query.type?s("div",{staticClass:"applica_div_input"},[e._m(1),e._v(" "),s("input",{attrs:{type:"",readonly:""},domProps:{value:"¥"+(e.totalRefund/100).toFixed(2)}})]):e._e(),e._v(" "),s("div",{staticClass:"applica_div_input"},[s("p",[s("em",{domProps:{textContent:e._s(1==e.$route.query.type?"退货原因":"换货原因")}}),s("i",[e._v("*")])]),e._v(" "),s("p",{staticClass:"select_div"},[s("select",{attrs:{name:"",id:"test",placeholder:"请选择退款原因"},on:{change:function(t){e.onSelected(t)}}},e._l(e.oneArr,function(t,a){return s("option",{domProps:{value:a}},[e._v(e._s(t.reason))])})),e._v(" "),s("i",{staticClass:"xia"})])]),e._v(" "),1==e.yuanyinVal?s("div",{staticClass:"applica_div_input"},[e._m(2),e._v(" "),s("p",{staticClass:"select_div"},[s("select",{attrs:{name:"",id:"test1",placeholder:"请选择退款原因"}},e._l(e.twoArr,function(t,a){return s("option",{domProps:{value:a+1}},[e._v(e._s(t.val))])})),e._v(" "),s("i",{staticClass:"xia"})])]):e._e(),e._v(" "),2==e.yuanyinVal?s("div",{staticClass:"applica_div_input"},[e._m(3),e._v(" "),s("p",{staticClass:"select_div"},[s("select",{attrs:{name:"",id:"test2",placeholder:"请选择退款原因"}},e._l(e.therrArr,function(t,a){return s("option",{domProps:{value:a+1}},[e._v(e._s(t.val))])})),e._v(" "),s("i",{staticClass:"xia"})])]):e._e(),e._v(" "),s("div",{staticClass:"applica_div_input"},[s("p",[s("em",{domProps:{textContent:e._s(1==e.$route.query.type?"退货说明":"换货说明")}}),s("i",[e._v("*")])]),e._v(" "),s("textarea",{directives:[{name:"model",rawName:"v-model",value:e.textvalue,expression:"textvalue"}],attrs:{name:"",id:"",cols:"30",rows:"10",maxlength:"300",placeholder:1==e.$route.query.type?"请填写退货说明":"请填写换货说明"},domProps:{value:e.textvalue},on:{input:function(t){t.target.composing||(e.textvalue=t.target.value)}}})]),e._v(" "),s("div",{staticClass:"applica_div_input"},[e._m(4),e._v(" "),s("div",{staticClass:"addImgs"},[s("p",{staticStyle:{position:"relative"}},[s("img",{staticClass:"oneAdd",attrs:{src:a("hfi6"),alt:""},on:{click:function(t){t.stopPropagation(),e.addInput(t)}}}),e._v(" "),s("input",{staticClass:"oneAdd",staticStyle:{width:".74rem",height:".74rem",border:"1px dashed #aaa",background:"url('../../../assets/images/order/add_background@2x.png') no-repeat","background-size":".74rem",opacity:"0",position:"absolute",top:"0",left:"0"},attrs:{id:"upload",type:"file",accept:"image/*;",capture:"camera"},on:{change:function(t){e.paizhao("#upload","#img",t)}}})]),e._v(" "),s("p",{attrs:{id:"imgs"}},e._l(e.dataUrl,function(t,a){return s("span",[s("img",{staticClass:"addImg",attrs:{src:t,alt:""}}),s("i",{on:{click:function(t){t.stopPropagation(),e.deleteImg(a)}}})])}))])])]),e._v(" "),s("button",{on:{click:function(t){t.stopPropagation(),e.ajaxtijiao(t)}}},[e._v("提交")])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("联系方式"),t("i",[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("退款金额"),t("i",[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("是否拆封"),t("i",[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("是否检测"),t("i",[this._v("*")])])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[t("em",[this._v("上传商品当前照片")]),t("i",[this._v("*")])])}]};var p=a("VU/8")(c,u,!1,function(e){a("Q+3w")},"data-v-2f15d11b",null);t.default=p.exports},"Q+3w":function(e,t){},hfi6:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAJIAAACSCAIAAAAhGQTZAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyFpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDE0IDc5LjE1MTQ4MSwgMjAxMy8wMy8xMy0xMjowOToxNSAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvIiB4bWxuczp4bXBNTT0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wL21tLyIgeG1sbnM6c3RSZWY9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZVJlZiMiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENDIChXaW5kb3dzKSIgeG1wTU06SW5zdGFuY2VJRD0ieG1wLmlpZDo5NEVEODQ2MzIwNzAxMUU4OEI4M0RDQzVGOUZGMDA0NiIgeG1wTU06RG9jdW1lbnRJRD0ieG1wLmRpZDo5NEVEODQ2NDIwNzAxMUU4OEI4M0RDQzVGOUZGMDA0NiI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOjk0RUQ4NDYxMjA3MDExRTg4QjgzRENDNUY5RkYwMDQ2IiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOjk0RUQ4NDYyMjA3MDExRTg4QjgzRENDNUY5RkYwMDQ2Ii8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+xDn3wAAABwVJREFUeNrsnceLVEsU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"}});
//# sourceMappingURL=16.996fb90be66299de4d1e.js.map