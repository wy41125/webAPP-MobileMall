webpackJsonp([3,23],{"8Bnr":function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("Au9i"),a("mtWM"),a("TVG1");var s={name:"coupons",data:function(){return{}},props:{dataBili:Number},methods:{canvasyuan:function(){var e=document.getElementsByClassName("yuan")[0].getContext("2d");e.beginPath(),e.arc(25,25,23,0,1*Math.PI,!1),e.lineWidth=3,e.strokeStyle="rgba(255,255,255,0.5)",e.stroke(),e.closePath()},huayuan:function(){var e=document.getElementsByClassName("yuans")[i].getContext("2d");e.beginPath(),e.arc(25,25,23,0,.5*Math.PI,1),e.strokeStyle="red",e.lineWidth=3,e.stroke(),e.closePath()}},created:function(){},mounted:function(){this.canvasyuan()},beforeRouteUpdate:function(e,t,a){},beforeUpdate:function(){},watch:{dataBili:function(){this.canvasyuan(),this.huayuan()}}},n={render:function(){this.$createElement;this._self._c;return this._m(0)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"canvasObj"},[t("canvas",{staticClass:"yuan",staticStyle:{position:"absolute",top:"0",right:"0","z-index":"100"},attrs:{width:"50px;",height:"50px"}}),this._v(" "),t("canvas",{staticClass:"yuans",staticStyle:{position:"absolute",top:"0",right:"0","z-index":"1000"},attrs:{width:"50px;",height:"50px"}})])}]};var c=a("VU/8")(s,n,!1,function(e){a("TKzC")},null,null);t.default=c.exports},HVFZ:function(e,t){},TKzC:function(e,t){},YJof:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=a("UeMV"),n=a("wFFv"),i=a("Au9i"),c=a("lbHh"),r=a.n(c),o=a("mtWM"),u=a.n(o),d=a("TVG1"),v=(a("8Bnr"),{name:"coupons",data:function(){return{isShow:!1,fontsize:null,items:[],bili:null,classStr:""}},components:{headers:n.a,navigation:s.a},methods:{Receive:function(e,t){var a=this;if(r.a.get("VUE2SESSID")){var s={cardId:e},n=d.a.getpost(s);u()({method:"post",url:"/collect/receiveCard"+n,dataType:"json",data:s}).then(function(e){0==e.data.status?(Object(i.Toast)("领取成功！"),t.currentTarget.className="tongyi isReceive",t.srcElement.removeChild(t.srcElement.getElementsByClassName("data")[0]),location.reload()):499==e.data.status?(d.a.outLogin(),a.$router.push({name:"signInPage",query:{outLogin:"/"}})):Object(i.MessageBox)("系统提示",e.data.message)}).catch(function(e){Object(i.MessageBox)("系统提示",e.data.message)})}else this.$router.push({name:"signInPage",query:{name:"coupons"}})},jumpGoodLIst:function(e){this.$router.push({name:"goodsList",query:{cardid:e}})},jumpHomepage:function(){window.sessionStorage.setItem("tabbar","homepage"),this.$router.replace({path:"/"})},ajaxcoupons:function(){var e=this,t={},a=d.a.getpost(t);u()({method:"post",url:"/open/cardCenter"+a,dataType:"json",data:t}).then(function(t){if(0==t.data.status)for(var a in e.items=t.data.body,e.items){var s=e.items[a];2==s.cardStatus&&s.cardRemainNum>0&&(s.PercentageReceiving=((s.cardNum-s.cardRemainNum)/s.cardNum*100).toFixed(1),s.PercentageReceiving<10?s.classStr="progressBar00":s.PercentageReceiving>10&&s.PercentageReceiving<20?s.classStr="progressBar10":s.PercentageReceiving>20&&s.PercentageReceiving<40?s.classStr="progressBar20":s.PercentageReceiving>40&&s.PercentageReceiving<60?s.classStr="progressBar40":s.PercentageReceiving>60&&s.PercentageReceiving<80?s.classStr="progressBar60":s.PercentageReceiving>80&&s.PercentageReceiving<100?s.classStr="progressBar80":100==s.PercentageReceiving&&(s.classStr="progressBar100"))}else e.imgShow=!1,Object(i.MessageBox)("系统提示",t.data.message)}).catch(function(e){Object(i.MessageBox)("系统提示",e.data.message)})}},created:function(){window.innerWidth<=320?this.fontsize="font-size:12px;":window.innerWidth>=414&&(this.fontsize="font-size:16px;"),this.ajaxcoupons(),d.a.setTitle("领券中心"),"other"==d.a.webview()?this.$store.commit("titleShowFunc",!0):this.$store.commit("titleShowFunc",!1)},mounted:function(){},beforeRouteUpdate:function(e,t,a){},beforeUpdate:function(){}}),l={render:function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"coupons"},[e.$store.state.titleShow?s("headers",{attrs:{headerType:2,headerStr:"领券中心"}}):e._e(),e._v(" "),e.isShow?s("div",{staticClass:"nodata"},[s("img",{attrs:{src:a("Zu8y"),alt:""}}),e._v(" "),s("p",{staticClass:"nodata_p"},[e._v("暂无优惠券")])]):e._e(),e._v(" "),e.isShow?e._e():s("div",{staticClass:"receive",style:e.$store.state.titleShow?"margin-top:.45rem":""},[e._l(e.items,function(t){return 2==t.cardStatus&&t.cardRemainNum>0?s("div",{staticClass:"tongyi canReceive",on:{click:function(a){a.stopPropagation(),e.Receive(t.cardId,a)}}},[s("div",{staticClass:"conent",style:e.fontsize},[s("p",[1==t.cardType?s("span",[s("em",{staticStyle:{"font-size":".18rem"}},[e._v("¥")]),s("i",[e._v(e._s(t.cardVal/100))])]):e._e(),e._v(" "),2==t.cardType?s("span",[s("i",[e._v(e._s(t.cardVal))]),e._v("折")]):e._e(),e._v(" "),s("span",[t.minUsePrice/100!=0?s("em",[e._v("满"+e._s(t.minUsePrice/100)+"元可用")]):e._e(),t.minUsePrice/100==0?s("em",[e._v("无现金门槛")]):e._e()])]),e._v(" "),s("p",[s("span",[e._v(e._s(t.name))]),e._v(" "),s("span",[e._v(e._s(t.startTime)+"-"+e._s(t.endTime))])])]),e._v(" "),s("div",{class:"data "+t.classStr},[s("p",[s("span",[e._v("已抢"+e._s(t.PercentageReceiving)+"%")])])])]):e._e()}),e._v(" "),e._l(e.items,function(t){return 1==t.cardStatus?s("div",{staticClass:"tongyi isReceive",on:{click:function(a){a.stopPropagation(),e.jumpGoodLIst(t.cardId)}}},[s("div",{staticClass:"conent",style:e.fontsize},[s("p",[1==t.cardType?s("span",[s("em",{staticStyle:{"font-size":".18rem"}},[e._v("¥")]),s("i",[e._v(e._s(t.cardVal/100))])]):e._e(),e._v(" "),2==t.cardType?s("span",[s("i",[e._v(e._s(t.cardVal))]),e._v("折")]):e._e(),e._v(" "),s("span",[t.minUsePrice/100!=0?s("em",[e._v("满"+e._s(t.minUsePrice/100)+"元可用")]):e._e(),t.minUsePrice/100==0?s("em",[e._v("无现金门槛")]):e._e()])]),e._v(" "),s("p",[s("span",[e._v(e._s(t.name))]),e._v(" "),s("span",[e._v(e._s(t.startTime)+"-"+e._s(t.endTime))])])]),e._v(" "),e._m(0,!0)]):e._e()}),e._v(" "),e._l(e.items,function(t){return 0==t.cardRemainNum?s("div",{staticClass:"tongyi noReceive",on:{click:function(a){a.stopPropagation(),e.jumpGoodLIst(t.cardId)}}},[s("div",{staticClass:"conent",style:e.fontsize},[s("p",[1==t.cardType?s("span",[s("em",{staticStyle:{"font-size":".18rem"}},[e._v("¥")]),s("i",[e._v(e._s(t.cardVal/100))])]):e._e(),e._v(" "),2==t.cardType?s("span",[s("i",[e._v(e._s(t.cardVal))]),e._v("折")]):e._e(),e._v(" "),s("span",[t.minUsePrice/100!=0?s("em",[e._v("满"+e._s(t.minUsePrice/100)+"元可用")]):e._e(),t.minUsePrice/100==0?s("em",[e._v("无现金门槛")]):e._e()])]),e._v(" "),s("p",[s("span",[e._v(e._s(t.name))]),e._v(" "),s("span",[e._v(e._s(t.startTime)+"-"+e._s(t.endTime))])])]),e._v(" "),e._m(1,!0)]):e._e()})],2),e._v(" "),s("navigation")],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"data"},[t("p")])},function(){var e=this.$createElement,t=this._self._c||e;return t("div",{staticClass:"data"},[t("p")])}]};var _=a("VU/8")(v,l,!1,function(e){a("HVFZ")},"data-v-70c291e5",null);t.default=_.exports}});
//# sourceMappingURL=3.f08fd60c8d8539d6bff0.js.map