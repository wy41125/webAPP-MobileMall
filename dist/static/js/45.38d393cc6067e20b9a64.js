webpackJsonp([45],{"3xWY":function(t,e){},OGjy:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});a("Au9i");var n=a("TVG1"),i=a("mtWM"),o=a.n(i),s=a("lbHh"),r=a.n(s),u={name:"signin",data:function(){return{val:{PhoneNum:"",Password:""},show:!0,timeStr:"获取动态密码",count:"",timer:null,phonetrue:!1,heightStr:null}},methods:{guanbiFunc:function(){this.$route.query.outLogin?this.$router.push({path:"/"}):this.$router.go(-1)},switchUserLogin:function(){this.$route.query.outLogin?this.$router.replace({name:"userLogin",query:{outLogin:"/"}}):this.$router.replace({name:"userLogin"})},toRegister:function(){this.$route.query.outLogin?this.$router.replace({name:"register1",query:{name:this.$route.query.name,nameTow:"signInPage",outLogin:"/"}}):this.$router.replace({name:"register1",query:{name:this.$route.query.name,nameTow:"signInPage"}})},watchPhone:function(t){var e=t.currentTarget.value;11==e.length&&"1"==e[0]?this.phonetrue=!0:this.phonetrue=!1},verificationCode:function(){var t=this;t.count=n.a.TIME_COUNT,t.show=!1,t.timer=setInterval(function(){t.count>0&&t.count<=n.a.TIME_COUNT?t.count--:(t.show=!0,clearInterval(t.timer),t.timeStr="再次发送",t.timer=null)},1e3)},ajaxVerificationCode:function(){var t=this;if(!this.timer)if(this.phonetrue){var e={};e.phoneNo=this.val.PhoneNum,e.type="2";var a=n.a.getpost(e);o()({method:"post",url:"/customer/open/getSmscode"+a,dataType:"json",data:e}).then(function(e){0==e.data.status?t.verificationCode():n.a.viewPopup(e.data.message)}).catch(function(t){t.data.status&&0!=t.data.status&&n.a.viewPopup(t.data.message)})}else n.a.viewPopup("请输入正确的手机号！")},phoneLogin:function(t){var e=this;if(!(t.srcElement.className.indexOf("canNext")<0))if(e.phonetrue){var a={phoneNo:e.val.PhoneNum,verifyCode:e.val.Password},i=n.a.getpost(a);o()({method:"post",url:"/customer/open/quickLogin"+i,dataType:"json",data:a}).then(function(t){if(0==t.data.status){var a=(new Date).getTime(),i=new Date(a+1296e6);e.$store.commit("addUserPhone",e.val.PhoneNum),r.a.set("jingjieUser",e.val.PhoneNum),r.a.set("VUE2SESSID",t.data.body.token,{expires:i}),e.$router.go(-1)}else n.a.viewPopup(t.data.message),e.val.Password=""}).catch(function(t){t.data.status&&0!=t.data.status&&n.a.viewPopup(t.data.message)})}else n.a.viewPopup("请输入正确的手机号！")}},created:function(){n.a.setTitle("手机快捷登录"),this.heightStr="height:"+(window.innerHeight-80)+"px;","other"==n.a.webview()?this.$store.commit("titleShowFunc",!0):this.$store.commit("titleShowFunc",!1)},beforeRouteUpdate:function(t,e,a){}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"signin",style:t.heightStr},[a("header",{staticClass:"mint-header is-fixed"},[a("div",{staticClass:"mint-header-button is-left"},[a("i",{on:{click:function(e){e.stopPropagation(),t.guanbiFunc(e)}}})]),t._v(" "),a("h1",{staticClass:"mint-header-title"},[t.$store.state.titleShow?a("em",{staticStyle:{display:"inline-block","line-height":".44rem","font-size":".17rem"}},[t._v("手机快捷登录")]):t._e()]),t._v(" "),a("div",{staticClass:"mint-header-button is-right"},[a("button",{staticClass:"mint-button mint-button--default mint-button--normal",staticStyle:{"margin-right":".05rem"}},[a("label",{staticClass:"mint-button-text",staticStyle:{"font-size":".14rem"},on:{click:function(e){e.stopPropagation(),t.toRegister(e)}}},[t._v("注册")])])])]),t._v(" "),a("div",{staticClass:"inputDiv"},[a("div",{staticClass:"tongyiDiv"},[a("p",{staticClass:"PhoneNum"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.val.PhoneNum,expression:"val.PhoneNum"}],attrs:{type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",placeholder:"手机号码"},domProps:{value:t.val.PhoneNum},on:{input:[function(e){e.target.composing||t.$set(t.val,"PhoneNum",e.target.value)},function(e){t.watchPhone(e)}]}}),t._v(" "),t.val.PhoneNum?a("i",{on:{click:function(e){t.val.PhoneNum=""}}}):t._e()]),t._v(" "),a("p",{staticClass:"Password"},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.val.Password,expression:"val.Password"}],attrs:{type:"number",oninput:"if(value.length>6)value=value.slice(0,6)",placeholder:"动态密码"},domProps:{value:t.val.Password},on:{input:function(e){e.target.composing||t.$set(t.val,"Password",e.target.value)}}}),t._v(" "),t.val.Password?a("i",{on:{click:function(e){t.val.Password=""}}}):t._e(),t._v(" "),a("span",{staticClass:"canClick",staticStyle:{"font-size":".13rem",float:"right","text-align":"right"},on:{click:t.ajaxVerificationCode}},[t.show?a("b",[t._v(t._s(t.timeStr))]):t._e(),t._v(" "),t.show?t._e():a("b",[t._v(t._s(t.count)+"s")])])]),t._v(" "),a("p",{staticClass:"buttonLogin noBorder"},[a("span",{class:""!=t.val.PhoneNum?"canNext":"",on:{click:function(e){e.stopPropagation(),t.phoneLogin(e)}}},[t._v("登录")])]),t._v(" "),a("p",{staticClass:"buttonChange noBorder"},[a("span",{on:{click:function(e){e.stopPropagation(),t.switchUserLogin(e)}}},[t._v("账号登录")])])])]),t._v(" "),a("div",{staticClass:"thirdParty"})])},staticRenderFns:[]};var l=a("VU/8")(u,c,!1,function(t){a("3xWY")},"data-v-06c2f650",null);e.default=l.exports}});
//# sourceMappingURL=45.38d393cc6067e20b9a64.js.map