webpackJsonp([5],{HgCG:function(e,t,i){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=i("mvHQ"),o=i.n(s),a=i("Au9i"),n=i("LHE1"),r=i.n(n),c=i("wFFv"),d=i("lbHh"),l=i.n(d),h=i("TVG1"),u=i("mtWM"),g=i.n(u),v={name:"confirmationOrder",data:function(){var e=this;return{isShowData:null,value1:"请选择自提时间",xuanzhongGood:[],daixuanGood:[],ajaxArr:[],invoiceStr:"",cardStr:"",haveAdd:!1,AddObj:{},haveAdd2:!1,AddObj2:{},Total:null,PreferentialAmount:0,cardObj:{},invoiceStrObj:{},arrOBJ:[],cansonghuo:!0,canziti:!0,value2:!1,pickerOptions1:{disabledDate:function(t){return t&&t.valueOf()<e.startDate||t.valueOf()>e.endDate}},startDate:"",endDate:"",showTime:!1,yearArr:[],monhtArr:[],dataArr:[]}},components:{headers:c.a},created:function(){h.a.toTop(),this.dataProcessing(),this.invoice(),this.huoquAdd(),this.DefaultDisplay(),this.huoquCard(),h.a.setTitle("确认订单"),"other"==h.a.webview()?this.$store.commit("titleShowFunc",!0):this.$store.commit("titleShowFunc",!1),this.timeChange()},mounted:function(){this.selectPopup()},watch:{},methods:{selectPopup:function(){var e=this;new r.a({trigger:"#trigger",title:"",wheels:[{data:e.yearArr}],callback:function(t,i){var s=i[0].split("年")[0]+"-",o=i[0].split("年")[1].split("月")[0];o=o<10?"0"+o+"-":o+"-";var a=i[0].split("年")[1].split("月")[1].split("日")[0];a=a<10?"0"+a:a,e.value1=s+o+a}})},timeChange:function(){var e=this;if(e.$route.query.sourcePage){var t=new Date(e.xuanzhongGood[0].balancePaymentEndTime);e.endDate=e.shijiancuozhuanhuan(Number(t.getTime())+23328e5),e.startDate=e.shijiancuozhuanhuan(Number(t.getTime()))}else if(4==e.xuanzhongGood[0].goodsSellType){var i=new Date(e.xuanzhongGood[0].presellEndTime);e.endDate=e.shijiancuozhuanhuan(Number(i.getTime())+23328e5),e.startDate=e.shijiancuozhuanhuan(Number(i.getTime()))}else{var s=new Date,o=s.getFullYear(),a=Number(s.getMonth())+1<10?"0"+(Number(s.getMonth())+1):Number(s.getMonth())+1,n=Number(s.getDate())+1<10?"0"+(Number(s.getDate())+1):Number(s.getDate())+1;new Date(o+"-"+a+"-"+n).getTime();if(window.sessionStorage.getItem("storeStr")&&""!=window.sessionStorage.getItem("storeStr")){var r=window.sessionStorage.getItem("storeStr");JSON.parse(r).stock>0?(e.endDate=e.shijiancuozhuanhuan(Number(new Date(o+"-"+a+"-"+n).getTime())+22464e5),e.startDate=e.shijiancuozhuanhuan(Number(new Date(o+"-"+a+"-"+n).getTime())-864e5)):(e.endDate=e.shijiancuozhuanhuan(Number(new Date(o+"-"+a+"-"+n).getTime())+23328e5),e.startDate=e.shijiancuozhuanhuan(Number(new Date(o+"-"+a+"-"+n).getTime())))}else e.endDate=e.shijiancuozhuanhuan(Number(new Date(o+"-"+a+"-"+n).getTime())+23328e5),e.startDate=e.shijiancuozhuanhuan(Number(new Date(o+"-"+a+"-"+n).getTime()))}console.log(e.startDate+","+e.endDate),e.toArrFunc(e.startDate,e.endDate)},toArrFunc:function(e,t){var i=this,s=e.split("-"),o=t.split("-"),a=0,n="",r=(new Date).getFullYear();if(s[1]==o[1]){a=o[2]-s[2]+1;for(var c=0;c<a;c++)n=r+"年"+Number(s[1])+"月"+(Number(s[2])+c)+"日",i.yearArr.push(n)}else if(1==Number(s[1])||3==Number(s[1])||5==Number(s[1])||7==Number(s[1])||8==Number(s[1])||10==Number(s[1])||12==Number(s[1])){for(var d=0;d<31-Number(s[2])+1;d++)n=r+"年"+Number(s[1])+"月"+(Number(s[2])+d)+"日",i.yearArr.push(n);for(var l=0;l<Number(o[2]);l++)n=r+"年"+Number(o[1])+"月"+(1+l)+"日",i.yearArr.push(n)}else{for(var h=0;h<30-Number(s[2])+1;h++)n=r+"年"+Number(s[1])+"月"+(Number(s[2])+h)+"日",i.yearArr.push(n);for(var u=0;u<Number(o[2]);u++)n=r+"年"+Number(o[1])+"月"+(1+u)+"日",i.yearArr.push(n)}console.log(i.yearArr)},shijiancuozhuanhuan:function(e){var t=new Date;t.setTime(e);var i=t.getFullYear()+"-",s=t.getMonth()+1;s=s<10?"0"+s+"-":s+"-";var o=t.getDate();return i+s+(o=o<10?"0"+o:o)},timestampToTime:function(e){var t=new Date(e);return t.getFullYear()+"-"+((t.getMonth()+1<10?"0"+(t.getMonth()+1):t.getMonth()+1)+"-")+(t.getDate()<10?"0"+t.getDate():t.getDate())},changeDelivery:function(e){1==e?(this.isShowData=!0,window.sessionStorage.setItem("Display","shsm")):(this.isShowData=!1,window.sessionStorage.setItem("Display","ddzt"))},DefaultDisplay:function(){this.canziti&&this.cansonghuo?window.sessionStorage.getItem("Display")?"shsm"==window.sessionStorage.getItem("Display")?this.isShowData=!0:this.isShowData=!1:this.isShowData=!0:this.canziti?this.isShowData=!1:this.isShowData=!0},placeOrder:function(e){var t=this,i={},s=l.a.get("VUE2SESSID");if(t.value2||0!=t.xuanzhongGood[0].isRejectedDeposit||2!=t.xuanzhongGood[0].goodsSellType){if(t.isShowData){if(!t.AddObj.name)return void h.a.viewPopup("请补充收货地址！")}else{if(!t.AddObj2.orgName)return void h.a.viewPopup("请补充门店地址！");if(""==t.value1||"请选择自提时间"==t.value1)return void h.a.viewPopup("请选择自提时间！")}if(l.a.get("VUE2SESSID")){t.cardObj&&t.cardObj.tccId&&(i.userCardId=t.cardObj.tccId),t.isShowData?(i.shoppingModel=2,i.addressId=Number(t.AddObj.addrId),i.orderChannel=3,i.needInvoice=t.invoiceStrObj.needInvoice,i.invoiceContent=t.invoiceStrObj.invoiceContent,i.invoiceName=t.invoiceStrObj.invoiceName,i.invoiceNumber=t.invoiceStrObj.invoiceNumber,i.companyName=t.invoiceStrObj.companyName):(i.shoppingModel=3,i.storeId=Number(t.AddObj2.orgId),i.pickupTime=t.value1,i.orderChannel=3,i.needInvoice=t.invoiceStrObj.needInvoice,i.invoiceContent=t.invoiceStrObj.invoiceContent,i.invoiceName=t.invoiceStrObj.invoiceName,i.invoiceNumber=t.invoiceStrObj.invoiceNumber,i.companyName=t.invoiceStrObj.companyName),e.length>0?i.goods=e:(t.arrOBJ=t.returnObj(1),i.goods=t.arrOBJ),t.$route.query.sourcePage?i.orderType=5:i.orderType=1;var o=h.a.getpost(i);g()({method:"post",url:"/order/sureOrder"+o,dataType:"json",data:i}).then(function(e){0==e.data.status?(window.sessionStorage.removeItem("cardStr"),t.deleteShopGood(i),t.$router.push({name:"orderPayment",query:{orderId:e.data.body.orderId,VUE2SESSID:encodeURIComponent(s)}})):499==e.data.status?t.$router.push({name:"signInPage",query:{outLogin:"/"}}):101==e.data.status?a.MessageBox.confirm(e.data.message).then(function(i){t.jianquId(e.data.body.giftId)}):h.a.viewPopup(e.data.message)}).catch(function(e){})}else this.$router.push({name:"signInPage"})}else h.a.viewPopup("预售商品定金不退哦～请先同意支付定金协议再进行操作哦～")},deleteShopGood:function(e){if(localStorage.getItem("shoppingCard")){var t=localStorage.getItem("shoppingCard").split(","),i=t,s="";for(var a in e.goods)s+=o()(e.goods[a]);for(var n=0;n<i.length;n++){var r=t[n].split("&")[0].split(":")[1];s.indexOf(r)>=0&&t.splice(n--,1)}localStorage.setItem("shoppingCard",t)}},jianquId:function(e){var t=this.returnObj(1);for(var i in t)if(t[i].giftIds.indexOf(e)>=0){var s=new RegExp(e,"g"),o=t[i].giftIds.replace(s,"");t[i].giftIds=o}this.arrOBJ=t,this.placeOrder(t)},returnObj:function(e){var t=[];if(1==e)for(var i=0;i<this.xuanzhongGood.length;i++){var s={},o="";this.xuanzhongGood[i].goodsList?(s.packageId=this.xuanzhongGood[i].packageId,this.xuanzhongGood[i].ObjNumber?s.num=this.xuanzhongGood[i].ObjNumber:s.num=this.xuanzhongGood[i].TotalCommodity/this.xuanzhongGood[i].price):this.xuanzhongGood[i].goodsList||(s.onlineId=this.xuanzhongGood[i].onlineId,this.xuanzhongGood[i].ObjNumber?s.num=this.xuanzhongGood[i].ObjNumber:s.num=this.xuanzhongGood[i].TotalCommodity/this.xuanzhongGood[i].salePrice);for(var a=0;a<this.xuanzhongGood[i].giftList.length;a++)a==this.xuanzhongGood[i].giftList.length-1?o+=this.xuanzhongGood[i].giftList[a].giftId:o+=this.xuanzhongGood[i].giftList[a].giftId+",";s.giftIds=o,t.push(s)}else if(2==e)for(var n=0;n<this.xuanzhongGood.length;n++){var r={};this.xuanzhongGood[n].goodsList?(r.id=this.xuanzhongGood[n].packageId,r.type=2):(r.id=this.xuanzhongGood[n].onlineId,r.type=1),t.push(r)}return t},dataProcessing:function(){if(this.$route.query.source){var e=[],t={},i={};if(window.sessionStorage.getItem("orderGoods")){var s=window.sessionStorage.getItem("orderGoods");t=JSON.parse(s),i.id=t.id,i.type=t.type,i.num=Number(t.TotalCommodity/t.price),e.push(i),console.log(i),this.ajaxGoodData(e,t)}}else if(window.sessionStorage.getItem("orderGoods")){var o=window.sessionStorage.getItem("orderGoods").split("&&"),a=[];for(var n in o){var r=JSON.parse(o[n]);a.push(r),this.Total+=r.TotalCommodity}this.xuanzhongGood=a}console.log(this.xuanzhongGood)},ajaxGoodData:function(e,t){var i=this,s=e,o=h.a.getpost(s);g()({method:"post",url:"/goods/open/shoppingCart"+o,dataType:"json",data:s}).then(function(e){0==e.data.status?e.data.body.length>=0&&(t.giftList=e.data.body[0].giftList,i.xuanzhongGood.push(t),i.Total+=t.TotalCommodity):499==e.data.status?i.$router.push({name:"signInPage",query:{outLogin:"/"}}):Object(a.MessageBox)("系统提示",e.data.message)}).catch(function(e){i.isShowData=!1,Object(a.MessageBox)("系统提示",e.data.message)})},invoice:function(){if(window.sessionStorage.getItem("invoice")){var e=window.sessionStorage.getItem("invoice");this.invoiceStrObj=JSON.parse(e),2==this.invoiceStrObj.needInvoice?this.invoiceStr="不需要发票":""!=this.invoiceStrObj.invoiceContent?this.invoiceStr="纸质（商品明细 - "+this.invoiceStrObj.invoiceName+"）":this.invoiceStr="纸质（"+this.invoiceStrObj.invoiceName+"）"}else{this.invoiceStr="请选择发票";this.invoiceStrObj={companyName:"",invoiceContent:"",invoiceName:"",invoiceNumber:"",needInvoice:2}}},huoquAdd:function(){if(window.sessionStorage.getItem("addStr")){var e=window.sessionStorage.getItem("addStr");this.AddObj=JSON.parse(e),this.haveAdd=!0}else this.ajaxAddress();if(window.sessionStorage.getItem("storeStr")&&""!=window.sessionStorage.getItem("storeStr")){var t=window.sessionStorage.getItem("storeStr");this.AddObj2=JSON.parse(t),this.haveAdd2=!0,this.showTime=!0}else this.AddObj2={},this.haveAdd2=!1,this.showTime=!1},huoquCard:function(){if(window.sessionStorage.getItem("cardStr")){var e=window.sessionStorage.getItem("cardStr");"无"!=e?(this.cardObj=JSON.parse(e),1==this.cardObj.cardType?0==this.cardObj.minUsePrice?this.cardStr="无门槛减"+this.cardObj.cardVal/100+"元":this.cardStr="满"+this.cardObj.minUsePrice/100+"减"+this.cardObj.cardVal/100+"元":0==this.cardObj.minUsePrice?this.cardStr="无门槛享"+this.cardObj.cardVal+"折":this.cardStr="满"+this.cardObj.minUsePrice/100+"享"+this.cardObj.cardVal+"折",this.ajaxPreferentialAmount(this.cardObj.tccId)):this.cardStr="暂无可用优惠券"}else this.cardStr="选择优惠券"},storeDataProcessing:function(){var e=this.returnObj(1),t="";for(var i in e)i==e.length-1?t+=o()(e[i]):t+=o()(e[i])+"&&";console.log(t),window.sessionStorage.setItem("storeData",t),this.$router.push({name:"storePage",query:{source:"order"}})},cardDataProcessing:function(){var e=this.returnObj(2),t="";for(var i in e)i==e.length-1?t+=o()(e[i]):t+=o()(e[i])+"&&";window.sessionStorage.setItem("cardData",t),l.a.get("VUE2SESSID")?this.$router.push({name:"ordercard",query:{source:"order"}}):this.$router.push({name:"signInPage"})},ajaxPreferentialAmount:function(e){var t=this,i=[],s={};if(window.sessionStorage.getItem("orderGoods")){var o=window.sessionStorage.getItem("orderGoods").split("&&");for(var n in o){var r=JSON.parse(o[n]);r.packageId?(s.packageId=r.packageId,s.num=r.TotalCommodity/r.price):(s.onlineId=r.onlineId,s.num=r.TotalCommodity/r.salePrice),i.push(s)}}var c={cardId:e,goodsList:i},d=h.a.getpost(c);g()({method:"post",url:"/order/cardPrice"+d,dataType:"json",data:c}).then(function(e){0==e.data.status?t.PreferentialAmount=e.data.body.cardPrice:499==e.data.status?t.$router.push({name:"signInPage",query:{outLogin:"/"}}):Object(a.MessageBox)("系统提示",e.data.message)}).catch(function(e){Object(a.MessageBox)("系统提示",e.data.message)})},eliminateShopGood:function(e){var t=localStorage.getItem("shoppingCard").split(",");for(var i in t)for(var s in e)t[i].indexOf(e[s].onlineId)>=0&&t.splice(i,1);localStorage.setItem("shoppingCard",t)},ajaxAddress:function(){var e=this,t={},i=h.a.getpost(t);g()({method:"post",url:"/deliverAddr/list"+i,dataType:"json",data:t}).then(function(t){if(0==t.data.status)if(t.data.body.length>0)for(var i=0;i<t.data.body.length;i++)1==t.data.body[i].defaultFlag&&(e.AddObj=t.data.body[0],e.haveAdd=!0);else e.AddObj={},e.haveAdd=!1;else(t.data.status=499)?e.$router.push({name:"signInPage",query:{outLogin:"/"}}):Object(a.MessageBox)("系统提示",t.data.message)}).catch(function(e){Object(a.MessageBox)("系统提示",e.data.message)})},wayReceivingFunc:function(){this.$route.query.canChoice.indexOf("2")>=0?this.cansonghuo=!0:this.cansonghuo=!1,this.$route.query.canChoice.indexOf("3")>=0?this.canziti=!0:this.canziti=!1,this.DefaultDisplay()}}},p={render:function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"confirmationOrder"},[e.$store.state.titleShow?i("headers",{attrs:{headerType:2,headerStr:"确认订单"}}):e._e(),e._v(" "),i("div",{staticClass:"Distribution",style:e.$store.state.titleShow?"margin-top:.4rem":""},[i("div",{staticClass:"changeButton"},[i("p",[e._v("配送方式")]),e._v(" "),i("p",[e.cansonghuo?i("span",{class:e.isShowData?"active":"",on:{click:function(t){t.stopPropagation(),e.changeDelivery(1)}}},[e._v("送货上门")]):e._e(),e._v(" "),e.canziti?i("span",{class:e.isShowData?"":"active",on:{click:function(t){t.stopPropagation(),e.changeDelivery(2)}}},[e._v("到店自提")]):e._e()])]),e._v(" "),e.isShowData?i("div",{staticClass:"addressStore",on:{click:function(t){t.stopPropagation(),e.$router.push({name:"addlessList",query:{source:"order"}})}}},[e.haveAdd?i("p",[e._v(e._s(e.AddObj.name)+" "+e._s(e.AddObj.phoneNo))]):e._e(),e._v(" "),e.haveAdd?i("p",[e._v(e._s(e.AddObj.province)+e._s(e.AddObj.city)+e._s(e.AddObj.county)+e._s(e.AddObj.address))]):e._e(),e._v(" "),e.haveAdd?e._e():i("p",{staticStyle:{color:"#999"}},[e._v("请选择收货地址")])]):e._e(),e._v(" "),e.isShowData?e._e():i("div",{staticClass:"addressStore",on:{click:function(t){t.stopPropagation(),e.storeDataProcessing(t)}}},[e.haveAdd2?i("p",[e._v(e._s(e.AddObj2.orgName)+" "+e._s(e.AddObj2.phoneNo))]):e._e(),e._v(" "),e.haveAdd2?i("p",[e._v(e._s(e.AddObj2.province)+e._s(e.AddObj2.city)+e._s(e.AddObj2.county)+e._s(e.AddObj2.address))]):e._e(),e._v(" "),e.haveAdd2?e._e():i("p",{staticStyle:{color:"#999"}},[e._v("请选择门店")])]),e._v(" "),!e.isShowData&&e.showTime?i("div",{staticClass:"zititime",staticStyle:{"text-align":"right"}},[i("span",{attrs:{id:"trigger"}},[e._v(e._s(e.value1))])]):e._e()]),e._v(" "),i("div",{staticClass:"order"},[i("p",{staticClass:"order_title"},[e._v("订单信息")]),e._v(" "),i("div",{staticClass:"order_goods"},[e._l(e.xuanzhongGood,function(t,s){return t.goodsList?e._e():i("div",{staticClass:"good_div nopackage"},[i("div",{staticClass:"goodXinxi"},[i("div",{staticClass:"goodXinxi_img"},[i("img",{attrs:{src:t.imgUrl,alt:""}})]),e._v(" "),i("div",{staticClass:"goodXinxi_name"},[i("p",[e._v(e._s(t.goodsName))]),e._v(" "),t.goodsSellType&&1!=t.goodsSellType?e._e():i("p",[e._v("¥"+e._s((t.salePrice/100).toFixed(2))),i("i",[e._v("x"+e._s(t.TotalCommodity/t.salePrice))])]),e._v(" "),t.goodsSellType&&1!=t.goodsSellType?i("p",[e._v(e._s(t.presellMoneyStr)),i("i",[e._v("x"+e._s(t.ObjNumber))])]):e._e()])]),e._v(" "),e._l(t.giftList,function(s){return t.giftList.length>0&&(!t.goodsSellType||1==t.goodsSellType)?i("p",{staticClass:"gift"},[e._v("【赠品】 "+e._s(s.goodsName)),i("i",[e._v("x"+e._s(s.num*(t.TotalCommodity/t.salePrice)))])]):e._e()}),e._v(" "),e._l(t.giftList,function(s){return t.giftList.length>0&&t.goodsSellType&&1!=t.goodsSellType?i("p",{staticClass:"gift"},[e._v("【赠品】 "+e._s(s.goodsName)),i("i",[e._v("x"+e._s(s.num*t.ObjNumber))])]):e._e()})],2)}),e._v(" "),e._l(e.xuanzhongGood,function(t){return t.goodsList?i("div",{staticClass:"good_div "},[i("p",{staticClass:"package_p"},[i("i",[e._v("优惠套餐")]),e._v(e._s(t.packageName)+" "),i("span",{staticClass:"setPrice"},[e._v("¥"+e._s((t.price/100).toFixed(2))),i("b",[e._v("x"+e._s(t.TotalCommodity/t.price))])])]),e._v(" "),e._l(t.goodsList,function(s,o){return i("div",{staticClass:"goodXinxi",style:o==t.goodsList.length-1?"border:0px solid #ececec;":""},[i("div",{staticClass:"goodXinxi_img"},[i("img",{attrs:{src:s.imgUrl}})]),e._v(" "),i("div",{staticClass:"goodXinxi_name"},[i("p",[e._v(e._s(s.goodsName))])])])}),e._v(" "),e._l(t.giftList,function(s){return t.giftList.length>0?i("p",{staticClass:"gift"},[e._v("【赠品】 "+e._s(s.goodsName)),i("i",[e._v("x"+e._s(s.num*(t.TotalCommodity/t.price)))])]):e._e()})],2):e._e()})],2)]),e._v(" "),i("div",{staticClass:"other",style:e.xuanzhongGood[0].goodsSellType&&2==e.xuanzhongGood[0].goodsSellType?"":"margin-bottom: 0.6rem;"},[i("p",{staticClass:"other_p hasmone",on:{click:function(t){t.stopPropagation(),e.$router.push({name:"invoice"})}}},[e._v("发票信息 "),i("span",{style:"请选择发票"==e.invoiceStr?"color:#989898;":""},[e._v(e._s(e.invoiceStr))])]),e._v(" "),e.xuanzhongGood[0].goodsSellType&&1!=e.xuanzhongGood[0].goodsSellType?e._e():i("p",{staticClass:"other_p hasmone",on:{click:function(t){t.stopPropagation(),e.cardDataProcessing(t)}}},[e._v("优惠券"),i("span",{style:"选择优惠券"==e.cardStr?"color:#989898;":""},[e._v(e._s(e.cardStr))])]),e._v(" "),e.xuanzhongGood[0].goodsSellType&&1!=e.xuanzhongGood[0].goodsSellType&&4!=e.xuanzhongGood[0].goodsSellType?e._e():i("div",{staticClass:"other_p"},[i("p",[e._v("订单总额 "),i("span",{staticClass:"red"},[e._v("¥"+e._s((e.Total/100).toFixed(2)))])]),e._v(" "),i("p",[e._v("优惠 "),i("span",{staticClass:"red"},[e._v("¥"+e._s((e.PreferentialAmount/100).toFixed(2)))])])])]),e._v(" "),e.xuanzhongGood[0].goodsSellType&&2==e.xuanzhongGood[0].goodsSellType?i("div",{staticStyle:{"margin-bottom":"0.6rem"}},[i("div",{staticClass:"PreSaleOrder"},[i("p",{staticClass:"title"},[e._v("订单金额")]),e._v(" "),i("div",{staticClass:"jieduan"},[i("div",{staticClass:"phaseOne selectStage"},[i("p",{staticClass:"one_p",style:e.xuanzhongGood[0].depositMark&&""!=e.xuanzhongGood[0].depositMark?"":"line-height:.3rem;"},[e._m(0),e._v("定金 "),i("span",[e._v("小计："+e._s((e.xuanzhongGood[0].deposit*e.xuanzhongGood[0].ObjNumber/100).toFixed(2)))])]),e._v(" "),i("p",{staticClass:"two_p"},[e._v(e._s(e.xuanzhongGood[0].depositMark))])]),e._v(" "),i("div",{staticClass:"phaseTwo"},[i("p",{staticClass:"one_p",style:e.xuanzhongGood[0].finalMoneyMark&&""!=e.xuanzhongGood[0].finalMoneyMark?"":"line-height:.3rem;"},[e._m(1),e._v("尾款 "),i("span",[e._v("小计："),i("em",{domProps:{textContent:e._s(e.xuanzhongGood[0].finalMoney?(e.xuanzhongGood[0].finalMoney*e.xuanzhongGood[0].ObjNumber/100).toFixed(2):"¥待发布")}})])]),e._v(" "),i("p",{directives:[{name:"show",rawName:"v-show",value:e.xuanzhongGood[0].finalMoneyMark&&""!=e.xuanzhongGood[0].finalMoneyMark,expression:"xuanzhongGood[0].finalMoneyMark && xuanzhongGood[0].finalMoneyMark != ''"}],staticClass:"two_p"},[e._v(e._s(e.xuanzhongGood[0].finalMoneyMark))])])]),e._v(" "),i("p",{staticClass:"TotalPrice"},[i("span",[e._v("总计："),i("em",{domProps:{textContent:e._s(e.xuanzhongGood[0].finalMoney?((e.xuanzhongGood[0].deposit+e.xuanzhongGood[0].finalMoney)*e.xuanzhongGood[0].ObjNumber/100).toFixed(2):"¥待发布")}})]),i("br",{staticStyle:{clear:"both"}})])]),e._v(" "),0==e.xuanzhongGood[0].isRejectedDeposit?i("div",{staticClass:"checkOut"},[e._m(2),e._v(" "),i("el-switch",{staticClass:"bottom",attrs:{"active-color":"#3c3c3c","inactive-color":"#999",width:"30"},model:{value:e.value2,callback:function(t){e.value2=t},expression:"value2"}})],1):e._e()]):e._e(),e._v(" "),i("div",{staticClass:"footer_botton"},[e.$route.query.sourcePage?i("p",[e._v("应付定金"),i("i",{staticClass:"red"},[e._v("¥"+e._s((e.xuanzhongGood[0].deposit*e.xuanzhongGood[0].ObjNumber/100).toFixed(2)))])]):e._e(),e._v(" "),e.$route.query.sourcePage?e._e():i("p",[e._v("应付金额"),i("i",{staticClass:"red"},[e._v("¥"+e._s(((e.Total-e.PreferentialAmount)/100).toFixed(2)))])]),e._v(" "),i("span",{on:{click:function(t){t.stopPropagation(),e.placeOrder(t)}}},[e._v("提交订单")])])],1)},staticRenderFns:[function(){var e=this.$createElement,t=this._self._c||e;return t("em",{staticClass:"icon_em"},[t("b",{staticClass:"icon_b"}),t("i",{staticClass:"icon_i"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("em",{staticClass:"icon_em"},[t("b",{staticClass:"icon_b"}),t("i",{staticClass:"icon_i"})])},function(){var e=this.$createElement,t=this._self._c||e;return t("p",[this._v("同意支付定金"),t("em",[this._v("（预售商品，定金不可退哦！）")])])}]};var m=i("VU/8")(v,p,!1,function(e){i("MpnU")},"data-v-c21acc1e",null);t.default=m.exports},LHE1:function(e,t,i){!function(){function t(e,t){return e.getElementsByClassName(t)}function s(e){this.mobileSelect,this.wheelsData=e.wheels,this.jsonType=!1,this.cascadeJsonData=[],this.displayJson=[],this.curValue=[],this.curIndexArr=[],this.cascade=!1,this.startY,this.moveEndY,this.moveY,this.oldMoveY,this.offset=0,this.offsetSum=0,this.oversizeBorder,this.curDistance=[],this.clickStatus=!1,this.isPC=!0,this.init(e)}i("PTkL"),s.prototype={constructor:s,init:function(e){var i=this;if(0==e.wheels[0].data.length)return console.error("mobileSelect has been successfully installed, but the data is empty and cannot be initialized."),!1;if(i.keyMap=e.keyMap?e.keyMap:{id:"id",value:"value",childs:"childs"},i.checkDataType(),i.renderWheels(i.wheelsData,e.cancelBtnText,e.ensureBtnText),i.trigger=document.querySelector(e.trigger),!i.trigger)return console.error("mobileSelect has been successfully installed, but no trigger found on your page."),!1;if(i.wheel=t(i.mobileSelect,"wheel"),i.slider=t(i.mobileSelect,"selectContainer"),i.wheels=i.mobileSelect.querySelector(".wheels"),i.liHeight=i.mobileSelect.querySelector("li").offsetHeight,i.ensureBtn=i.mobileSelect.querySelector(".ensure"),i.cancelBtn=i.mobileSelect.querySelector(".cancel"),i.grayLayer=i.mobileSelect.querySelector(".grayLayer"),i.popUp=i.mobileSelect.querySelector(".content"),i.callback=e.callback||function(){},i.cancel=e.cancel||function(){},i.transitionEnd=e.transitionEnd||function(){},i.onShow=e.onShow||function(){},i.onHide=e.onHide||function(){},i.initPosition=e.position||[],i.titleText=e.title||"",i.connector=e.connector||" ",i.triggerDisplayData=void 0===e.triggerDisplayData||e.triggerDisplayData,i.trigger.style.cursor="pointer",i.setStyle(e),i.setTitle(i.titleText),i.checkIsPC(),i.checkCascade(),i.addListenerAll(),i.cascade&&i.initCascade(),i.initPosition.length<i.slider.length)for(var s=i.slider.length-i.initPosition.length,o=0;o<s;o++)i.initPosition.push(0);i.setCurDistance(i.initPosition),i.cancelBtn.addEventListener("click",function(){i.hide(),i.cancel(i.curIndexArr,i.curValue)}),i.ensureBtn.addEventListener("click",function(){i.hide(),i.liHeight||(i.liHeight=i.mobileSelect.querySelector("li").offsetHeight);for(var e="",t=0;t<i.wheel.length;t++)t==i.wheel.length-1?e+=i.getInnerHtml(t):e+=i.getInnerHtml(t)+i.connector;i.triggerDisplayData&&(i.trigger.innerHTML=e),i.curIndexArr=i.getIndexArr(),i.curValue=i.getCurValue(),i.callback(i.curIndexArr,i.curValue)}),i.trigger.addEventListener("click",function(){i.show()}),i.grayLayer.addEventListener("click",function(){i.hide(),i.cancel(i.curIndexArr,i.curValue)}),i.popUp.addEventListener("click",function(){event.stopPropagation()}),i.fixRowStyle()},setTitle:function(e){this.titleText=e,this.mobileSelect.querySelector(".title").innerHTML=this.titleText},setStyle:function(e){e.ensureBtnColor&&(this.ensureBtn.style.color=e.ensureBtnColor),e.cancelBtnColor&&(this.cancelBtn.style.color=e.cancelBtnColor),e.titleColor&&(this.title=this.mobileSelect.querySelector(".title"),this.title.style.color=e.titleColor),e.textColor&&(this.panel=this.mobileSelect.querySelector(".panel"),this.panel.style.color=e.textColor),e.titleBgColor&&(this.btnBar=this.mobileSelect.querySelector(".btnBar"),this.btnBar.style.backgroundColor=e.titleBgColor),e.bgColor&&(this.panel=this.mobileSelect.querySelector(".panel"),this.shadowMask=this.mobileSelect.querySelector(".shadowMask"),this.panel.style.backgroundColor=e.bgColor,this.shadowMask.style.background="linear-gradient(to bottom, "+e.bgColor+", rgba(255, 255, 255, 0), "+e.bgColor+")"),isNaN(e.maskOpacity)||(this.grayMask=this.mobileSelect.querySelector(".grayLayer"),this.grayMask.style.background="rgba(0, 0, 0, "+e.maskOpacity+")")},checkIsPC:function(){var e=navigator.userAgent.toLowerCase(),t="ipad"==e.match(/ipad/i),i="iphone os"==e.match(/iphone os/i),s="midp"==e.match(/midp/i),o="rv:1.2.3.4"==e.match(/rv:1.2.3.4/i),a="ucweb"==e.match(/ucweb/i),n="android"==e.match(/android/i),r="windows ce"==e.match(/windows ce/i),c="windows mobile"==e.match(/windows mobile/i);(t||i||s||o||a||n||r||c)&&(this.isPC=!1)},show:function(){this.mobileSelect.classList.add("mobileSelect-show"),"function"==typeof this.onShow&&this.onShow(this)},hide:function(){this.mobileSelect.classList.remove("mobileSelect-show"),"function"==typeof this.onHide&&this.onHide(this)},renderWheels:function(e,t,i){var s=t||"取消",o=i||"确认";this.mobileSelect=document.createElement("div"),this.mobileSelect.className="mobileSelect",this.mobileSelect.innerHTML='<div class="grayLayer"></div><div class="content"><div class="btnBar"><div class="fixWidth"><div class="cancel">'+s+'</div><div class="title"></div><div class="ensure">'+o+'</div></div></div><div class="panel"><div class="fixWidth"><div class="wheels"></div><div class="selectLine"></div><div class="shadowMask"></div></div></div></div>',document.body.appendChild(this.mobileSelect);for(var a="",n=0;n<e.length;n++){if(a+='<div class="wheel"><ul class="selectContainer">',this.jsonType)for(var r=0;r<e[n].data.length;r++)a+='<li data-id="'+e[n].data[r][this.keyMap.id]+'">'+e[n].data[r][this.keyMap.value]+"</li>";else for(r=0;r<e[n].data.length;r++)a+="<li>"+e[n].data[r]+"</li>";a+="</ul></div>"}this.mobileSelect.querySelector(".wheels").innerHTML=a},addListenerAll:function(){for(var e=this,t=0;t<e.slider.length;t++)!function(t){e.addListenerWheel(e.wheel[t],t)}(t)},addListenerWheel:function(e,t){var i=this;e.addEventListener("touchstart",function(){i.touch(event,this.firstChild,t)},!1),e.addEventListener("touchend",function(){i.touch(event,this.firstChild,t)},!1),e.addEventListener("touchmove",function(){i.touch(event,this.firstChild,t)},!1),i.isPC&&(e.addEventListener("mousedown",function(){i.dragClick(event,this.firstChild,t)},!1),e.addEventListener("mousemove",function(){i.dragClick(event,this.firstChild,t)},!1),e.addEventListener("mouseup",function(){i.dragClick(event,this.firstChild,t)},!0))},checkDataType:function(){"object"==typeof this.wheelsData[0].data[0]&&(this.jsonType=!0)},checkCascade:function(){if(this.jsonType){for(var e=this.wheelsData[0].data,t=0;t<e.length;t++)if(this.keyMap.childs in e[t]&&e[t][this.keyMap.childs].length>0){this.cascade=!0,this.cascadeJsonData=this.wheelsData[0].data;break}}else this.cascade=!1},generateArrData:function(e){for(var t=[],i=this.keyMap.id,s=this.keyMap.value,o=0;o<e.length;o++){var a={};a[i]=e[o][this.keyMap.id],a[s]=e[o][this.keyMap.value],t.push(a)}return t},initCascade:function(){this.displayJson.push(this.generateArrData(this.cascadeJsonData)),this.initPosition.length>0?(this.initDeepCount=0,this.initCheckArrDeep(this.cascadeJsonData[this.initPosition[0]])):this.checkArrDeep(this.cascadeJsonData[0]),this.reRenderWheels()},initCheckArrDeep:function(e){if(e&&this.keyMap.childs in e&&e[this.keyMap.childs].length>0){this.displayJson.push(this.generateArrData(e[this.keyMap.childs])),this.initDeepCount++;var t=e[this.keyMap.childs][this.initPosition[this.initDeepCount]];t?this.initCheckArrDeep(t):this.checkArrDeep(e[this.keyMap.childs][0])}},checkArrDeep:function(e){e&&this.keyMap.childs in e&&e[this.keyMap.childs].length>0&&(this.displayJson.push(this.generateArrData(e[this.keyMap.childs])),this.checkArrDeep(e[this.keyMap.childs][0]))},checkRange:function(e,t){for(var i,s=this.displayJson.length-1-e,o=0;o<s;o++)this.displayJson.pop();for(o=0;o<=e;o++)i=0==o?this.cascadeJsonData[t[0]]:i[this.keyMap.childs][t[o]];this.checkArrDeep(i),this.reRenderWheels(),this.fixRowStyle(),this.setCurDistance(this.resetPosition(e,t))},resetPosition:function(e,t){var i,s=t;if(this.slider.length>t.length){i=this.slider.length-t.length;for(var o=0;o<i;o++)s.push(0)}else if(this.slider.length<t.length){i=t.length-this.slider.length;for(o=0;o<i;o++)s.pop()}for(o=e+1;o<s.length;o++)s[o]=0;return s},reRenderWheels:function(){var e=this;if(e.wheel.length>e.displayJson.length)for(var t=e.wheel.length-e.displayJson.length,i=0;i<t;i++)e.wheels.removeChild(e.wheel[e.wheel.length-1]);for(i=0;i<e.displayJson.length;i++)!function(t){var i="";if(e.wheel[t]){for(var s=0;s<e.displayJson[t].length;s++)i+='<li data-id="'+e.displayJson[t][s][e.keyMap.id]+'">'+e.displayJson[t][s][e.keyMap.value]+"</li>";e.slider[t].innerHTML=i}else{var o=document.createElement("div");o.className="wheel",i='<ul class="selectContainer">';for(s=0;s<e.displayJson[t].length;s++)i+='<li data-id="'+e.displayJson[t][s][e.keyMap.id]+'">'+e.displayJson[t][s][e.keyMap.value]+"</li>";i+="</ul>",o.innerHTML=i,e.addListenerWheel(o,t),e.wheels.appendChild(o)}}(i)},updateWheels:function(e){if(this.cascade){if(this.cascadeJsonData=e,this.displayJson=[],this.initCascade(),this.initPosition.length<this.slider.length)for(var t=this.slider.length-this.initPosition.length,i=0;i<t;i++)this.initPosition.push(0);this.setCurDistance(this.initPosition),this.fixRowStyle()}},updateWheel:function(e,t){var i="";if(this.cascade)return console.error("级联格式不支持updateWheel(),请使用updateWheels()更新整个数据源"),!1;if(this.jsonType){for(var s=0;s<t.length;s++)i+='<li data-id="'+t[s][this.keyMap.id]+'">'+t[s][this.keyMap.value]+"</li>";this.wheelsData[e]={data:t}}else{for(s=0;s<t.length;s++)i+="<li>"+t[s]+"</li>";this.wheelsData[e]=t}this.slider[e].innerHTML=i},fixRowStyle:function(){for(var e=(100/this.wheel.length).toFixed(2),t=0;t<this.wheel.length;t++)this.wheel[t].style.width=e+"%"},getIndex:function(e){return Math.round((2*this.liHeight-e)/this.liHeight)},getIndexArr:function(){for(var e=[],t=0;t<this.curDistance.length;t++)e.push(this.getIndex(this.curDistance[t]));return e},getCurValue:function(){var e=[],t=this.getIndexArr();if(this.cascade)for(var i=0;i<this.wheel.length;i++)e.push(this.displayJson[i][t[i]]);else if(this.jsonType)for(i=0;i<this.curDistance.length;i++)e.push(this.wheelsData[i].data[this.getIndex(this.curDistance[i])]);else for(i=0;i<this.curDistance.length;i++)e.push(this.getInnerHtml(i));return e},getValue:function(){return this.curValue},calcDistance:function(e){return 2*this.liHeight-e*this.liHeight},setCurDistance:function(e){for(var t=[],i=0;i<this.slider.length;i++)t.push(this.calcDistance(e[i])),this.movePosition(this.slider[i],t[i]);this.curDistance=t},fixPosition:function(e){return-(this.getIndex(e)-2)*this.liHeight},movePosition:function(e,t){e.style.webkitTransform="translate3d(0,"+t+"px, 0)",e.style.transform="translate3d(0,"+t+"px, 0)"},locatePosition:function(e,t){this.curDistance[e]=this.calcDistance(t),this.movePosition(this.slider[e],this.curDistance[e]),this.cascade&&this.checkRange(e,this.getIndexArr())},updateCurDistance:function(e,t){e.style.transform?this.curDistance[t]=parseInt(e.style.transform.split(",")[1]):this.curDistance[t]=parseInt(e.style.webkitTransform.split(",")[1])},getDistance:function(e){return e.style.transform?parseInt(e.style.transform.split(",")[1]):parseInt(e.style.webkitTransform.split(",")[1])},getInnerHtml:function(e){var t=this.getIndex(this.curDistance[e]);return this.slider[e].getElementsByTagName("li")[t].innerHTML},touch:function(e,t,i){var s=this;switch((e=e||window.event).type){case"touchstart":s.startY=e.touches[0].clientY,s.startY=parseInt(s.startY),s.oldMoveY=s.startY;break;case"touchend":if(s.moveEndY=parseInt(e.changedTouches[0].clientY),s.offsetSum=s.moveEndY-s.startY,s.oversizeBorder=-(t.getElementsByTagName("li").length-3)*s.liHeight,0==s.offsetSum){var o=parseInt((document.documentElement.clientHeight-s.moveEndY)/40);if(2!=o){var a=o-2,n=s.curDistance[i]+a*s.liHeight;n<=2*s.liHeight&&n>=s.oversizeBorder&&(s.curDistance[i]=n,s.movePosition(t,s.curDistance[i]),s.transitionEnd(s.getIndexArr(),s.getCurValue()))}}else s.updateCurDistance(t,i),s.curDistance[i]=s.fixPosition(s.curDistance[i]),s.movePosition(t,s.curDistance[i]),s.curDistance[i]+s.offsetSum>2*s.liHeight?(s.curDistance[i]=2*s.liHeight,setTimeout(function(){s.movePosition(t,s.curDistance[i])},100)):s.curDistance[i]+s.offsetSum<s.oversizeBorder&&(s.curDistance[i]=s.oversizeBorder,setTimeout(function(){s.movePosition(t,s.curDistance[i])},100)),s.transitionEnd(s.getIndexArr(),s.getCurValue());s.cascade&&s.checkRange(i,s.getIndexArr());break;case"touchmove":e.preventDefault(),s.moveY=e.touches[0].clientY,s.offset=s.moveY-s.oldMoveY,s.updateCurDistance(t,i),s.curDistance[i]=s.curDistance[i]+s.offset,s.movePosition(t,s.curDistance[i]),s.oldMoveY=s.moveY}},dragClick:function(e,t,i){var s=this;switch((e=e||window.event).type){case"mousedown":s.startY=e.clientY,s.oldMoveY=s.startY,s.clickStatus=!0;break;case"mouseup":if(s.moveEndY=e.clientY,s.offsetSum=s.moveEndY-s.startY,s.oversizeBorder=-(t.getElementsByTagName("li").length-3)*s.liHeight,0==s.offsetSum){var o=parseInt((document.documentElement.clientHeight-s.moveEndY)/40);if(2!=o){var a=o-2,n=s.curDistance[i]+a*s.liHeight;n<=2*s.liHeight&&n>=s.oversizeBorder&&(s.curDistance[i]=n,s.movePosition(t,s.curDistance[i]),s.transitionEnd(s.getIndexArr(),s.getCurValue()))}}else s.updateCurDistance(t,i),s.curDistance[i]=s.fixPosition(s.curDistance[i]),s.movePosition(t,s.curDistance[i]),s.curDistance[i]+s.offsetSum>2*s.liHeight?(s.curDistance[i]=2*s.liHeight,setTimeout(function(){s.movePosition(t,s.curDistance[i])},100)):s.curDistance[i]+s.offsetSum<s.oversizeBorder&&(s.curDistance[i]=s.oversizeBorder,setTimeout(function(){s.movePosition(t,s.curDistance[i])},100)),s.transitionEnd(s.getIndexArr(),s.getCurValue());s.clickStatus=!1,s.cascade&&s.checkRange(i,s.getIndexArr());break;case"mousemove":e.preventDefault(),s.clickStatus&&(s.moveY=e.clientY,s.offset=s.moveY-s.oldMoveY,s.updateCurDistance(t,i),s.curDistance[i]=s.curDistance[i]+s.offset,s.movePosition(t,s.curDistance[i]),s.oldMoveY=s.moveY)}}},e.exports=s}()},MpnU:function(e,t){},PTkL:function(e,t){}});
//# sourceMappingURL=5.166237a42893e9137d8c.js.map