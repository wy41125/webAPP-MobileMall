webpackJsonp([41],{b1dn:function(e,t){},gzER:function(e,t,a){"use strict";Object.defineProperty(t,"__esModule",{value:!0});a("Au9i");var s=a("TVG1"),o=a("mtWM"),n=a.n(o),i=a("lbHh"),r=a.n(i),l={name:"signin",data:function(){return{val:{PhoneNum:"",Password:""},show:!0,count:"",timer:null,phonetrue:!1,heightStr:null,classShow:!1}},methods:{guanbiFunc:function(){this.$route.query.outLogin?this.$router.push({path:"/"}):this.$router.go(-1)},switchUserLogin:function(){this.$route.query.outLogin?this.$router.replace({name:"signInPage",query:{outLogin:"/"}}):this.$router.replace({name:"signInPage"})},toRegister:function(){this.$route.query.outLogin?this.$router.replace({name:"register1",query:{name:this.$route.query.name,nameTow:"userLogin",outLogin:"/"}}):this.$router.replace({name:"register1",query:{name:this.$route.query.name,nameTow:"userLogin"}})},changeShowHide:function(e){1===e?this.classShow?this.classShow=!1:this.classShow=!0:this.classShow1?this.classShow1=!1:this.classShow1=!0},watchPhone:function(e){var t=e.currentTarget.value;11==t.length&&"1"==t[0]?this.phonetrue=!0:this.phonetrue=!1},phoneLogin:function(e){var t=this,a=e.srcElement.className;if(t.phonetrue){if(!(a.indexOf("canNext")<0)){var o={phoneNo:t.val.PhoneNum,password:t.val.Password},i=s.a.getpost(o);n()({method:"post",url:"/customer/open/login"+i,dataType:"json",data:o}).then(function(e){if(0==e.data.status){var a=(new Date).getTime(),o=new Date(a+1296e6);t.$store.commit("addUserPhone",t.val.PhoneNum),r.a.set("jingjieUser",t.val.PhoneNum),r.a.set("VUE2SESSID",e.data.body.token,{expires:o}),t.$router.go(-1)}else s.a.viewPopup(e.data.message),t.val.Password=""}).catch(function(e){e.data.status&&0!=e.data.status&&s.a.viewPopup(e.data.message)})}}else s.a.viewPopup("请输入正确的手机号！")}},created:function(){s.a.setTitle("账号登录"),this.heightStr="height:"+(window.innerHeight-80)+"px;","other"==s.a.webview()?this.$store.commit("titleShowFunc",!0):this.$store.commit("titleShowFunc",!1)},beforeRouteUpdate:function(e,t,a){}},u={render:function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"signin",style:e.heightStr},[a("header",{staticClass:"mint-header is-fixed"},[a("div",{staticClass:"mint-header-button is-left"},[a("i",{staticStyle:{"margin-left":".05rem"},on:{click:e.guanbiFunc}})]),e._v(" "),a("h1",{staticClass:"mint-header-title"},[e.$store.state.titleShow?a("em",{staticStyle:{display:"inline-block","line-height":".45rem","font-size":".17rem"}},[e._v("账号登录")]):e._e()]),e._v(" "),a("div",{staticClass:"mint-header-button is-right"},[a("button",{staticClass:"mint-button mint-button--default mint-button--normal",staticStyle:{"margin-right":".05rem"}},[a("label",{staticClass:"mint-button-text",staticStyle:{"font-size":".14rem"},on:{click:function(t){t.stopPropagation(),e.toRegister(t)}}},[e._v("注册")])])])]),e._v(" "),a("div",{staticClass:"inputDiv"},[a("div",{staticClass:"tongyiDiv"},[a("p",{staticClass:"PhoneNum"},[a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.PhoneNum,expression:"val.PhoneNum"}],attrs:{type:"number",oninput:"if(value.length>11)value=value.slice(0,11)",placeholder:"手机号码"},domProps:{value:e.val.PhoneNum},on:{input:[function(t){t.target.composing||e.$set(e.val,"PhoneNum",t.target.value)},function(t){e.watchPhone(t)}]}}),e._v(" "),e.val.PhoneNum?a("i",{on:{click:function(t){e.val.PhoneNum=""}}}):e._e()]),e._v(" "),a("p",{staticClass:"Password"},["checkbox"==(e.classShow?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.Password,expression:"val.Password"}],attrs:{placeholder:"密码",type:"checkbox"},domProps:{checked:Array.isArray(e.val.Password)?e._i(e.val.Password,null)>-1:e.val.Password},on:{change:function(t){var a=e.val.Password,s=t.target,o=!!s.checked;if(Array.isArray(a)){var n=e._i(a,null);s.checked?n<0&&(e.val.Password=a.concat([null])):n>-1&&(e.val.Password=a.slice(0,n).concat(a.slice(n+1)))}else e.$set(e.val,"Password",o)}}}):"radio"==(e.classShow?"text":"password")?a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.Password,expression:"val.Password"}],attrs:{placeholder:"密码",type:"radio"},domProps:{checked:e._q(e.val.Password,null)},on:{change:function(t){e.$set(e.val,"Password",null)}}}):a("input",{directives:[{name:"model",rawName:"v-model",value:e.val.Password,expression:"val.Password"}],attrs:{placeholder:"密码",type:e.classShow?"text":"password"},domProps:{value:e.val.Password},on:{input:function(t){t.target.composing||e.$set(e.val,"Password",t.target.value)}}}),e._v(" "),e.val.Password?a("i",{on:{click:function(t){e.val.Password=""}}}):e._e(),e._v(" "),a("span",{staticStyle:{"font-size":".14rem"},on:{click:function(t){t.stopPropagation(),e.$router.push({name:"forgetPass",query:{name:"userLogin"}})}}},[e.show?a("b",{staticStyle:{"text-decoration":"underline",color:"#999"},on:{click:function(t){t.stopPropagation(),e.$router.push({name:"forgetPass"})}}},[e._v("忘记密码?")]):e._e()])]),e._v(" "),a("p",{staticClass:"buttonLogin noBorder"},[a("span",{class:""!=e.val.PhoneNum?"canNext":"",on:{click:function(t){t.stopPropagation(),e.phoneLogin(t)}}},[e._v("登录")])]),e._v(" "),a("p",{staticClass:"buttonChange noBorder"},[a("span",{on:{click:function(t){t.stopPropagation(),e.switchUserLogin(t)}}},[e._v("手机快捷登录")])])])]),e._v(" "),a("div",{staticClass:"thirdParty"})])},staticRenderFns:[]};var c=a("VU/8")(l,u,!1,function(e){a("b1dn")},"data-v-16ee6192",null);t.default=c.exports}});
//# sourceMappingURL=41.feccae83320bb727c067.js.map